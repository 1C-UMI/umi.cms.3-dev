<?php
use umicms\project\module\structure\api\object\StructureElement;

/** @var StructureElement $page */
/** @var array $menu */

?>
<?php if (count($menu)) : ?>
    <ul>
    <?php foreach ($menu as $pageInfo) : ?>
        <?php $page = $pageInfo['page'];?>
        <?= '<li ' . ($pageInfo['active'] ? 'class="current"' : '') . '><a href="' . $page->getPageUrl() . '">' . $page->displayName . '</a>' ?>
        <?= $this->render('auto.phtml', ['menu' => $pageInfo['children']]); ?>
        </li>
    <?php endforeach; ?>
    </ul>
<?php endif;?>