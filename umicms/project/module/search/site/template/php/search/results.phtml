<?php
/**
 * @var Fragmenter $fragmenter
 * @var string $query
 */
use umicms\orm\object\ICmsObject;
use umicms\project\module\search\highlight\Fragmenter;

?>
<div class="mod-search mod-search-result-list">
    <?=$this->widget('search.search', ['query'=>$query])?>
    <?
    /** @var $results ICmsObject[] */
    if (is_null($results)) { ?>
        <p>No query</p>
    <? } elseif(empty($results)) {?>
        <p>No results</p>
    <?} else {?>
        <? foreach ($results as $result) { ?>
        <div class="mod-search-result-list-item">
            <h3><a href="<?= $result->getGUID() ?>"><?= $result->displayName ?></a></h3>
            <?=$this->widget('search.fragments', ['query' => $query, 'result' => $result]);?>
        <?}?>
    <?}?>
        </div>
</div>
