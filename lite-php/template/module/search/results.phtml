<?php
/**
 * @var Fragmenter $fragmenter
 * @var string $query
 * @var $results ICmsObject[]
 */
use umicms\orm\object\ICmsObject;
use umicms\project\module\search\highlight\Fragmenter;

?>
<div>
    <?= $this->widget('search.search', ['query'=>$query]) ?>
    <?php if (is_null($results)) :?>
        <p><?=$this->translate('No query')?></p>
    <?php elseif(empty($results)) :?>
        <p><?=$this->translate('No results')?></p>
    <?php else :?>
        <?php foreach ($results as $result) :?>
            <div>
                <h3>
                    <a href="<?= $result->getGUID() ?>"><?= $result->displayName ?></a>
                </h3>
                <?= $this->widget('search.fragments', ['query' => $query, 'result' => $result]); ?>
            </div>
        <?php endforeach; ?>
    <?php endif; ?>
</div>
