<?php
/**
 * @var umicms\project\module\blog\api\object\BlogPost $page
 */
?>

<?=$this->render('breadcrumbs.phtml', $scope) ?>

<div class="blog-post">
    <h1><?=$page->displayName?></h1>
    <p class="blog-post-meta">
        <?php if ($page->publishTime) : ?>
        <time datetime="<?= $page->publishTime->format('c')?>">
            <?= $page->publishTime->format('d.m.Y | H:i')?>
        </time>
        <?php endif; ?>
        <?php if ($page->author) : ?><?=$this->translate('Author')?>: <a href="<?=$page->author->getPageUrl()?>"><?=$page->author->displayName?></a><?php endif; ?>
    </p>

    <?= $page->contents ?>

</div>

<h1><?=$this->translate('Comments')?> (<?= $page->commentsCount?>):</h1>

<?= $this->widget('blog.comment.list', ['blogPost' => $page, 'template' => 'list']); ?>

<?= $this->widget('blog.comment.add', ['blogPost' => $page, 'template' => 'addComment']); ?>