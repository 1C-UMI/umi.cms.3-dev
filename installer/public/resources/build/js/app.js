define("application/config",[],function(){return function(e){e.config={iScroll:{scrollX:!0,probeType:3,mouseWheel:!0,scrollbars:!0,bounce:!1,click:!0,freeScroll:!1,keyBindings:!0,interactiveScrollbars:!0},elFinder:{url:"/admin/api/files/manager/action/connector",lang:"ru",closeOnGetFileCallback:!0,getFileCallback:function(e){console.log("getFileCallback",e),document.querySelector(".umi-input-wrapper .umi-file").value=e.path,document.querySelector(".umi-input-wrapper img").src=e.tmb},uiOptions:{toolbar:[["back","forward"],["reload"],["getfile"],["mkdir","mkfile","upload"],["download"],["copy","cut","paste"],["rm"],["duplicate","rename","edit"],["view"],["help"]]}}},CKEDITOR.editorConfig=function(e){e.filebrowserBrowseUrl="/admin/api/files/manager/action/connector",e.toolbarGroups=[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"links"},{name:"insert"},{name:"forms"},{name:"tools"},{name:"document",groups:["mode","document","doctools"]},{name:"others"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"styles"},{name:"colors"},{name:"about"}],e.removeButtons="Underline,Subscript,Superscript",e.format_tags="p;h1;h2;h3;pre",e.removeDialogTabs="image:advanced;link:advanced"}}}),define("application/utils",["Modernizr"],function(e){return function(t){t.Utils={},t.Utils.htmlEncode=function(e){return e+="",e.replace(/[&<>"']/g,function(e){return"&"+{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#39"}[e]+";"})},t.Utils.replacePlaceholder=function(e,t){var s;return s=t.replace(/{\w+}/g,function(t){return t&&(t=t.slice(1,-1)),Ember.get(e,t)||t})},t.Utils.objectsMerge=function(e,t){Ember.assert('Некорректный тип аргументов. Метод objectsMerge ожидает аргументы с типом "object"',"object"===Ember.typeOf(e)&&"object"===Ember.typeOf(t));for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},t.Utils.LS={store:localStorage,init:function(){e.localstorage?localStorage.getItem("UMI")||localStorage.setItem("UMI",JSON.stringify({})):this.store={UMI:JSON.stringify({})}},get:function(e){var t=JSON.parse(this.store.UMI);return Ember.get(t,e)},set:function(t,s){var n=JSON.parse(this.store.UMI),a=t.split("."),r=0,i=function o(e,t,s){e.hasOwnProperty(t)||(e[t]={}),r<a.length-1?(r++,o(e[t],a[r],s)):e[t]=s};i(n,a[0],s),e.localstorage?this.store.setItem("UMI",JSON.stringify(n)):this.store.UMI=JSON.stringify(n)}},Ember.Handlebars.registerHelper("filterClassName",function(e,t){return e=Ember.Handlebars.helpers.unbound.apply(this,[e,t]),e=e.replace(/\./g,"__")}),t.Utils.LS.init(),window.mobileDetection={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},mobileDetection.any()&&console.log("mobile"),e.addTest("csscalc",function(){var t="width:",s="calc(10px);",n=document.createElement("div");return n.style.cssText=t+e._prefixes.join(s+t),!!n.style.length}),e.addTest("cssfilters",function(){var t=document.createElement("div");return t.style.cssText=e._prefixes.join("filter:blur(2px); "),!!t.style.length&&(void 0===document.documentMode||document.documentMode>9)})}}),define("application/i18n",[],function(){return function(e){Ember.Handlebars.registerHelper("i18n",function(t,s){"string"!==Ember.typeOf(s)&&(s=void 0);var n=e.i18n.getTranslate(t,s);return n?n:t}),e.i18n=Ember.Object.extend({dictionary:{},setDictionary:function(e,t){var s,n=this.get("dictionary");t&&t&&(s="object"===Ember.typeOf(n[t])?n[t]:{},Ember.set(n,t,s));for(var a in e)e.hasOwnProperty(a)&&(t?Ember.set(Ember.get(n,t),a,e[a]):Ember.set(n,a,e[a]))},getTranslate:function(e,t){var s="dictionary."+(t?t+".":"")+e,n=this.get(s);return n?n:e}}).create({}),e.i18nInterface=Ember.Mixin.create({dictionaryNamespace:null,localDictionary:null,setDictionary:function(){e.i18n.setDictionary(this.get("localDictionary"),this.get("dictionaryNamespace"))},init:function(){this._super(),this.setDictionary()}})}}),define("application/templates.compile",["Ember"],function(e){e.TEMPLATES["UMI/application"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l,c="",u=this.escapeExpression,h=n.helperMissing;return r.buffer.push('<div class="s-full-height-before umi-header"> '),r.buffer.push(u(n.view.call(s,"topBar",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(" "),r.buffer.push(u((o=n.render||s&&s.render,l={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},o?o.call(s,"dock",l):h.call(s,"render","dock",l)))),r.buffer.push(" </div> "),i=n._triageMustache.call(s,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push(" "),r.buffer.push(u((o=n.outlet||s&&s.outlet,l={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},o?o.call(s,"popup",l):h.call(s,"outlet","popup",l)))),c}),e.TEMPLATES["UMI/component"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"sideBarControl",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <div class="umi-divider-right"> <div class="umi-component columns small-12 s-padding-clear"> '),s=n._triageMustache.call(e,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> </div> "),a}function o(e,t){var s,a,r="";return t.buffer.push(' <div class="umi-divider-left"> <div class="umi-divider-left-content"> '),t.buffer.push(h((s=n.outlet||e&&e.outlet,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"sideBar",a):u.call(e,"outlet","sideBar",a)))),t.buffer.push(' </div> <div class="umi-divider"></div> </div> <div class="umi-left-bottom-panel s-unselectable"> <a href="javascript:void(0)" class="button white square umi-divider-left-toggle"> <i class="icon icon-left"></i> </a> </div> '),r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var l,c="",u=n.helperMissing,h=this.escapeExpression,p=this;return r.buffer.push('<div class="s-full-height"> '),l=n.view.call(s,"divider",{hash:{modelBinding:"model"},hashTypes:{modelBinding:"STRING"},hashContexts:{modelBinding:s},inverse:p.noop,fn:p.program(1,i,r),contexts:[s],types:["STRING"],data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push(" </div>"),c}),e.TEMPLATES["UMI/counter"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i="",o=this.escapeExpression;return r.buffer.push('<style> .umi-counter{ height: 100%; } .umi-counter-header, .umi-counter-period, .umi-counter-content{ float: left; padding: 20px 30px 0; width: calc(100% - 200px); box-sizing: border-box; } .umi-counter-date{ float: left; margin-right: 30px; } .umi-counter-info{ float: left; width: calc(100% - 200px); height: 100%; } </style> <div class="umi-counter" style="background: #F5F6F7;"> '),r.buffer.push(o(n.view.call(s,"accordion",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(' <div class="umi-counter-info"> <div class="umi-counter-period"> <div class="umi-counter-date large-4 small-12"> <div> <span class="umi-form-label">Начало отчётного периода</span> </div> <div class="umi-input-wrapper-date"> <input type="text" class="umi-date umi-date-from" /> <i class="icon icon-calendar"></i> </div> </div> <div class="umi-counter-date large-4 small-12"> <div> <span class="umi-form-label">Конец отчётного периода</span> </div> <div class="umi-input-wrapper-date"> <input type="text" class="umi-date umi-date-to" /> <i class="icon icon-calendar"></i> </div> </div> </div> <div class="umi-counter-content"> '),r.buffer.push(o(n.view.call(s,"chartControl",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(' </div> <div class="umi-counter-content"> '),r.buffer.push(o(n.view.call(s,"table",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(" </div> </div> </div>"),i}),e.TEMPLATES["UMI/counters"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i=this.escapeExpression;r.buffer.push(i(n.view.call(s,"table",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:s},contexts:[s],types:["STRING"],data:r})))}),e.TEMPLATES["UMI/editForm"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l=n.helperMissing,c=this.escapeExpression;r.buffer.push(c((i=n.render||s&&s.render,o={hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:r},i?i.call(s,"formControl","model",o):l.call(s,"render","formControl","model",o))))}),e.TEMPLATES["UMI/files"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i=this.escapeExpression;r.buffer.push(i(n.view.call(s,"fileManager",{hash:{content:"model"},hashTypes:{content:"ID"},hashContexts:{content:s},contexts:[s],types:["STRING"],data:r})))}),e.TEMPLATES["UMI/filter"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l=n.helperMissing,c=this.escapeExpression;r.buffer.push(c((i=n.render||s&&s.render,o={hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:r},i?i.call(s,"tableControl","model",o):l.call(s,"render","tableControl","model",o))))}),e.TEMPLATES["UMI/megaIndex"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i=this.escapeExpression;r.buffer.push(i(n.view.call(s,"seoMegaIndex",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:s},contexts:[s],types:["STRING"],data:r})))}),e.TEMPLATES["UMI/simpleForm"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l=n.helperMissing,c=this.escapeExpression;r.buffer.push(c((i=n.render||s&&s.render,o={hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:r},i?i.call(s,"formBase","model",o):l.call(s,"render","formBase","model",o))))}),e.TEMPLATES["UMI/yandexWebmaster"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i=this.escapeExpression;r.buffer.push(i(n.view.call(s,"seoYandexWebmaster",{hash:{contentBinding:"this"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:s},contexts:[s],types:["STRING"],data:r})))}),e.TEMPLATES["UMI/errors"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(". "),a}function o(e,t){var s,a="";return t.buffer.push(" <p>"),s=n._triageMustache.call(e,"model.content",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</p> "),a}function l(e,t){var s,a="";return t.buffer.push(' <div class="text-left"> <code>'),s=n._triageMustache.call(e,"stack",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</code> </div> "),a}function c(e,t){var s,a="";return t.buffer.push(' <div class="alert-box error"> <ul> '),s=n.each.call(e,"lists",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </ul> </div> "),a}function u(e,t){var s,a="";return t.buffer.push(" <li>"),s=n._triageMustache.call(e,"error",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</li> "),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var h,p="",f=this;return r.buffer.push('<div class="umi-component s-full-height"> <div class="row"> <div class="small-10 columns small-centered text-center"> <p></p> <div> <h2> '),h=n["if"].call(s,"status",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,i,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" "),h=n._triageMustache.call(s,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" </h2> "),h=n["if"].call(s,"model.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,o,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" "),h=n["if"].call(s,"stack",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,l,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" "),h=n["if"].call(s,"lists",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(7,c,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" </div> </div> </div> </div>"),p}),e.TEMPLATES["UMI/menu"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l=n.helperMissing,c=this.escapeExpression;r.buffer.push(c((i=n.render||s&&s.render,o={hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:r},i?i.call(s,"sideMenu","model",o):l.call(s,"render","sideMenu","model",o))))}),e.TEMPLATES["UMI/tree"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l=n.helperMissing,c=this.escapeExpression;r.buffer.push(c((i=n.render||s&&s.render,o={hash:{},hashTypes:{},hashContexts:{},contexts:[s,s],types:["STRING","ID"],data:r},i?i.call(s,"treeControl","model",o):l.call(s,"render","treeControl","model",o))))}),e.TEMPLATES["UMI/partials/chartControl"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{},r.buffer.push('<div class="umi-canvas-wrapper"> <canvas id="umi-metrika-canvas"></canvas> </div>')}),e.TEMPLATES["UMI/partials/dialog-layout"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <div class="umi-overlay"></div> <div class="umi-dialog"> '),s=n["if"].call(e,"model.close",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),s=n._triageMustache.call(e,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> "),a}function o(e,t){var s="";return t.buffer.push(' <a href="" '),t.buffer.push(c(n.action.call(e,"close","model",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(' class="close">&times;</a> '),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var l,c=this.escapeExpression,u=this;l=n["if"].call(s,"model",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s],types:["ID"],data:r}),r.buffer.push(l||0===l?l:"")}),e.TEMPLATES["UMI/partials/dialog-template"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <h5 class="subheader umi-dialog-header">'),s=n._triageMustache.call(e,"model.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</h5> "),a}function o(e,t){var s="";return t.buffer.push(" "),t.buffer.push(f(n._triageMustache.call(e,"model.content",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}function l(e,t){var s,a,r,i="";return t.buffer.push(' <div class="umi-dialog-content"> '),s=n._triageMustache.call(e,"checkbox-element",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),t.buffer.push(f((a=n.i18n||e&&e.i18n,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},a?a.call(e,"Remember my choice",r):d.call(e,"i18n","Remember my choice",r)))),t.buffer.push(" </div> "),i}function c(e,t){var s,a="";return t.buffer.push(' <button class="button small secondary left" '),t.buffer.push(f(n.action.call(e,"confirm",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">"),s=n._triageMustache.call(e,"model.confirm",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</button> "),a}function u(e,t){var s,a="";return t.buffer.push(' <button class="button small secondary right" '),t.buffer.push(f(n.action.call(e,"close",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">"),s=n._triageMustache.call(e,"model.reject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</button> "),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var h,p="",f=this.escapeExpression,d=n.helperMissing,m=this;return h=n["if"].call(s,"model.title",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,i,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(' <div class="umi-dialog-content"> '),h=n["if"].call(s,"model.content",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(3,o,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" </div> "),h=n["if"].call(s,"model.proposeRemember",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(5,l,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" "),h=n["if"].call(s,"model.confirm",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(7,c,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" "),h=n["if"].call(s,"model.reject",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(9,u,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" "),p}),e.TEMPLATES["UMI/partials/dock"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"dockModuleButton",{hash:{module:"module"},hashTypes:{module:"ID"},hashContexts:{module:e},inverse:v.noop,fn:v.program(2,o,t),contexts:[e],types:["STRING"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function o(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n["link-to"]||e&&e["link-to"],r={hash:{tagName:"span","class":"dock-module {{unbound module.name}}"},hashTypes:{tagName:"STRING","class":"STRING"},hashContexts:{tagName:e,"class":e},inverse:v.noop,fn:v.program(3,l,t),contexts:[e,e],types:["STRING","ID"],data:t},s=a?a.call(e,"module","module.name",r):g.call(e,"link-to","module","module.name",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <ul class="f-dropdown center"> '),s=n.each.call(e,"component","in","module.components",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(5,c,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </ul> "),i}function l(e,t){var s,a="";return t.buffer.push(" <img "),t.buffer.push(b(n["bind-attr"].call(e,{hash:{src:"view.icon"},hashTypes:{src:"ID"},hashContexts:{src:e},contexts:[],types:[],data:t}))),t.buffer.push(" /> <span>"),s=n._triageMustache.call(e,"module.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</span> "),a}function c(e,t){var s,a,r,i="";return t.buffer.push(' <li class="'),t.buffer.push(b(n.unbound.call(e,"component.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"> '),a=n["link-to"]||e&&e["link-to"],r={hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(6,u,t),contexts:[e,e,e],types:["STRING","ID","ID"],data:t},s=a?a.call(e,"component","module.name","component.name",r):g.call(e,"link-to","component","module.name","component.name",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </li> "),i}function u(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"component.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function h(e,t){var s,a="";return t.buffer.push(" "),s=n["with"].call(e,"activeModule","as","module",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(9,p,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function p(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"component","in","module.components",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(10,f,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function f(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n["link-to"]||e&&e["link-to"],r={hash:{"class":"component.name"},hashTypes:{"class":"ID"},hashContexts:{"class":e},inverse:v.noop,fn:v.program(6,u,t),contexts:[e,e,e],types:["STRING","ID","ID"],data:t},s=a?a.call(e,"component","module.name","component.name",r):g.call(e,"link-to","component","module.name","component.name",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var d,m="",b=this.escapeExpression,v=this,g=n.helperMissing;return r.buffer.push('<div class="dock-wrapper"> <div class="dock-wrapper-bg"> <ul class="dock navigation"> '),d=n.each.call(s,"module","in","modules",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(d||0===d)&&r.buffer.push(d),r.buffer.push(' </ul> </div> </div> <div class="dock-components"> <nav class="components-nav"> '),d=n["if"].call(s,"activeModule",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(8,h,r),contexts:[s],types:["ID"],data:r}),(d||0===d)&&r.buffer.push(d),r.buffer.push(" </nav> </div>"),m}),e.TEMPLATES["UMI/partials/checkboxGroup/CollectionElement"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(l(n.view.call(e,"view.checkboxElementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l=this.escapeExpression,c=this;o=n.each.call(s,"meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,i,r),contexts:[s],types:["ID"],data:r}),r.buffer.push(o||0===o?o:"")}),e.TEMPLATES["UMI/partials/checkboxGroup"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(l(n.view.call(e,"checkboxElement",{hash:{meta:"element"},hashTypes:{meta:"ID"},hashContexts:{meta:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l=this.escapeExpression,c=this;o=n.each.call(s,"element","in","meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),r.buffer.push(o||0===o?o:"")}),e.TEMPLATES["UMI/partials/dateElement"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i="",o=this.escapeExpression;return r.buffer.push('<div class="small-11 columns"> '),r.buffer.push(o(n.view.call(s,"textElement",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:s,meta:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(' </div> <div class="small-1 columns"> <span class="postfix" '),r.buffer.push(o(n.action.call(s,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('> <i class="icon icon-delete"></i> </span> </div>'),i}),e.TEMPLATES["UMI/partials/dateTimeElement"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o,l="",c=n.helperMissing,u=this.escapeExpression;return r.buffer.push('<div class="small-11 columns"> '),r.buffer.push(u((i=n.input||s&&s.input,o={hash:{type:"text","class":"umi-date",value:"view.value"},hashTypes:{type:"STRING","class":"STRING",value:"ID"},hashContexts:{type:s,"class":s,value:s},contexts:[],types:[],data:r},i?i.call(s,o):c.call(s,"input",o)))),r.buffer.push(' </div> <div class="small-1 columns"> <span class="postfix" '),r.buffer.push(u(n.action.call(s,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('> <i class="icon icon-delete"></i> </span> </div>'),l}),e.TEMPLATES["UMI/partials/fileElement"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i="",o=this.escapeExpression;return r.buffer.push('<div class="small-10 columns"> '),r.buffer.push(o(n.view.call(s,"textElement",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:s,meta:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(' </div> <div class="small-2 columns"> <span class="postfix"> <i class="icon icon-delete" '),r.buffer.push(o(n.action.call(s,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('></i> <i class="icon icon-open-folder" '),r.buffer.push(o(n.action.call(s,"showPopup","fileManager","view.object","view.meta",{hash:{},hashTypes:{},hashContexts:{},contexts:[s,s,s,s],types:["STRING","STRING","ID","ID"],data:r}))),r.buffer.push("></i> </span> </div>"),i}),e.TEMPLATES["UMI/partials/imageElement"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i="",o=this.escapeExpression;return r.buffer.push('<div class="small-10 columns"> '),r.buffer.push(o(n.view.call(s,"textElement",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:s,meta:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(' </div> <div class="small-2 columns"> <span class="postfix"> <i class="icon icon-delete" '),r.buffer.push(o(n.action.call(s,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('></i> <i class="icon icon-image" '),r.buffer.push(o(n.action.call(s,"showPopup","fileManager","view.object","view.meta",{hash:{},hashTypes:{},hashContexts:{},contexts:[s,s,s,s],types:["STRING","STRING","ID","ID"],data:r}))),r.buffer.push("></i> </span> </div>"),i}),e.TEMPLATES["UMI/partials/multi-select-lazy-choices"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <ul class="umi-multi-select-list"> '),s=n.each.call(e,"view.notSelectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:m.program(4,l,t),fn:m.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </ul> "),a}function o(e,t){var s,a="";return t.buffer.push(" <li "),t.buffer.push(f(n.action.call(e,"select","id",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(" "),t.buffer.push(f(n["bind-attr"].call(e,{hash:{"class":"hover"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("> "),s=n._triageMustache.call(e,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </li> "),a}function l(e,t){var s,a,r="";return t.buffer.push(' <li class="placeholder"> '),t.buffer.push(f((s=n.i18n||e&&e.i18n,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"Nothing found",a):d.call(e,"i18n","Nothing found",a)))),t.buffer.push(" </li> "),r}function c(e,t){var s,a="";return t.buffer.push(' <div class="selected-list"> '),s=n.each.call(e,"view.selectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(7,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> "),a}function u(e,t){var s,a="";return t.buffer.push(' <div class="item" '),t.buffer.push(f(n.action.call(e,"unSelect","id",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),s=n._triageMustache.call(e,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <i class="close">&times;</i></div> '),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var h,p="",f=this.escapeExpression,d=n.helperMissing,m=this;return r.buffer.push('<div class="small-12 columns"> '),r.buffer.push(f(n.view.call(s,"view.inputView",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}))),r.buffer.push(' <span class="postfix radius" '),r.buffer.push(f(n.action.call(s,"toggleList",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('> <i class="triangle"></i> </span> '),h=n["if"].call(s,"view.isOpen",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,i,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" </div> "),h=n["if"].call(s,"view.selectedObjects.length",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(6,c,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),p}),e.TEMPLATES["UMI/partials/multi-select"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <ul class="umi-multi-select-list"> '),s=n.each.call(e,"view.notSelectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:m.program(4,l,t),fn:m.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </ul> "),a}function o(e,t){var s,a="";return t.buffer.push(" <li "),t.buffer.push(f(n.action.call(e,"select","value",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(" "),t.buffer.push(f(n["bind-attr"].call(e,{hash:{"class":"hover"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("> "),s=n._triageMustache.call(e,"label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </li> "),a}function l(e,t){var s,a,r="";return t.buffer.push(' <li class="placeholder"> '),t.buffer.push(f((s=n.i18n||e&&e.i18n,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"Nothing found",a):d.call(e,"i18n","Nothing found",a)))),t.buffer.push(" </li> "),r}function c(e,t){var s,a="";
return t.buffer.push(' <div class="selected-list"> '),s=n.each.call(e,"view.selectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(7,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> "),a}function u(e,t){var s,a="";return t.buffer.push(' <div class="item" '),t.buffer.push(f(n.action.call(e,"unSelect","value",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),s=n._triageMustache.call(e,"label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <i class="close">&times;</i></div> '),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var h,p="",f=this.escapeExpression,d=n.helperMissing,m=this;return r.buffer.push('<div class="small-12 columns"> '),r.buffer.push(f(n.view.call(s,"view.inputView",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}))),r.buffer.push(' <span class="postfix radius" '),r.buffer.push(f(n.action.call(s,"toggleList",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('> <i class="triangle"></i> </span> '),h=n["if"].call(s,"view.isOpen",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,i,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" </div> "),h=n["if"].call(s,"view.selectedObjects.length",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(6,c,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),p}),e.TEMPLATES["UMI/partials/permissions"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <dl class="accordion"> <dd class="accordion-navigation"> <a class="accordion-navigation-button" href="javascript:void(0)"><i class="icon icon-right"></i> '),s=n._triageMustache.call(e,"component.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push('</a> <div class="content"> '),t.buffer.push(c(n.view.call(e,"permissionsPartial",{hash:{component:"component"},hashTypes:{component:"ID"},hashContexts:{component:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" </div> </dd> </dl> "),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l="",c=this.escapeExpression,u=this;return r.buffer.push('<div class="umi-permissions"> '),o=n.each.call(s,"component","in","view.meta.resources",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(" </div>"),l}),e.TEMPLATES["UMI/partials/permissions/partial"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <li class="umi-permissions-role-list-item"> <div class="umi-permissions-role"> '),s=n["if"].call(e,"role.component",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <span class="umi-permissions-role-label" '),t.buffer.push(u(n["bind-attr"].call(e,{hash:{"data-permissions-component-path":"view.component.path"},hashTypes:{"data-permissions-component-path":"STRING"},hashContexts:{"data-permissions-component-path":e},contexts:[],types:[],data:t}))),t.buffer.push("> "),t.buffer.push(u(n.view.call(e,"checkboxElement",{hash:{meta:"role",name:"role.value",attributeValue:"role.value",value:"",className:"umi-permissions-role-checkbox"},hashTypes:{meta:"ID",name:"ID",attributeValue:"ID",value:"STRING",className:"STRING"},hashContexts:{meta:e,name:e,attributeValue:e,value:e,className:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" </span> </div> "),s=n["if"].call(e,"role.component",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(4,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </li> "),a}function o(e,t){t.buffer.push(' <span class="button tiny square white left s-margin-clear umi-permissions-role-button-expand"> <i class="icon icon-right"></i> </span> ')}function l(e,t){var s="";return t.buffer.push(' <div class="umi-permissions-component"> '),t.buffer.push(u(n.view.call(e,"permissionsPartial",{hash:{component:"role.component"},hashTypes:{component:"ID"},hashContexts:{component:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" </div> "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var c,u=this.escapeExpression,h=this;c=n.each.call(s,"role","in","view.component.roles",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),r.buffer.push(c||0===c?c:"")}),e.TEMPLATES["UMI/partials/radioElement"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(l(n.view.call(e,"view.radioElementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l=this.escapeExpression,c=this;o=n.each.call(s,"view.meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,i,r),contexts:[s],types:["ID"],data:r}),r.buffer.push(o||0===o?o:"")}),e.TEMPLATES["UMI/partials/textareaElement"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i="",o=this.escapeExpression;return r.buffer.push(o(n.view.call(s,"view.textareaView",{hash:{meta:"meta",object:"object"},hashTypes:{meta:"ID",object:"ID"},hashContexts:{meta:s,object:s},contexts:[s],types:["ID"],data:r}))),r.buffer.push(' <div class="umi-element-textarea-resizer"></div>'),i}),e.TEMPLATES["UMI/partials/timeElement"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i="",o=this.escapeExpression;return r.buffer.push('<div class="small-11 columns"> '),r.buffer.push(o(n.view.call(s,"view.inputView",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}))),r.buffer.push(' </div> <div class="small-1 columns"> <span class="postfix"> <i class="icon icon-delete"></i> </span> </div> <style> .umi-time-picker{ position: absolute; float: left; width: 200px; height: 200px; background: #FFFFFF; } </style>'),i}),e.TEMPLATES["UMI/partials/form"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(' <div class="s-full-height-before"> '),t.buffer.push(w(n.view.call(e,"toolbar",{hash:{toolbar:"control.toolbar"},hashTypes:{toolbar:"ID"},hashContexts:{toolbar:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" </div> "),s}function o(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.hasFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(4,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <div class="row s-full-height collapse"> <div class="columns small-12 magellan-content"> '),s=n.each.call(e,"formElement","in","formElements",{hash:{itemViewClass:"view.elementView"},hashTypes:{itemViewClass:"STRING"},hashContexts:{itemViewClass:e},inverse:E.noop,fn:E.program(10,f,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> </div> "),a}function l(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"magellan",{hash:{elements:"formElements"},hashTypes:{elements:"ID"},hashContexts:{elements:e},inverse:E.noop,fn:E.program(5,c,t),contexts:[e],types:["STRING"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function c(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"formElement","in","view.elements",{hash:{itemViewClass:"view.elementView"},hashTypes:{itemViewClass:"STRING"},hashContexts:{itemViewClass:e},inverse:E.noop,fn:E.program(6,u,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function u(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.isFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(7,h,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function h(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"view.parentView.buttonView",{hash:{model:"formElement"},hashTypes:{model:"ID"},hashContexts:{model:e},inverse:E.noop,fn:E.program(8,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function p(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"formElement.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function f(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.isFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:E.program(15,v,t),fn:E.program(11,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function d(e,t){var s,a="";return t.buffer.push(' <fieldset id="fieldset-'),t.buffer.push(w(n.unbound.call(e,"formElement.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"> <legend '),t.buffer.push(w(n.action.call(e,"expand",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(' class="s-unselectable"> <i '),t.buffer.push(w(n["bind-attr"].call(e,{hash:{"class":":icon view.isExpanded:icon-bottom:icon-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s=n._triageMustache.call(e,"formElement.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </legend> "),s=n["if"].call(e,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(12,m,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </fieldset> "),a}function m(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"element","in","formElement.elements",{hash:{itemViewClass:"view.parentView.elementView"},hashTypes:{itemViewClass:"STRING"},hashContexts:{itemViewClass:e},inverse:E.noop,fn:E.program(13,b,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function b(e,t){var s="";return t.buffer.push(" "),t.buffer.push(w(n.view.call(e,"fieldBase",{hash:{metaBinding:"element",objectBinding:"element"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:e,objectBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}function v(e,t){var s="";return t.buffer.push(" <br /> "),t.buffer.push(w(n.view.call(e,"fieldBase",{hash:{metaBinding:"formElement",objectBinding:"formElement"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:e,objectBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}function g(e,t){var s="";return t.buffer.push(" "),t.buffer.push(w(n.view.call(e,"view.submitToolbarView",{hash:{elements:"model.control.submitToolbar"},hashTypes:{elements:"ID"},hashContexts:{elements:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var y,x="",w=this.escapeExpression,E=this;return y=n["if"].call(s,"control.toolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(1,i,r),contexts:[s],types:["ID"],data:r}),(y||0===y)&&r.buffer.push(y),r.buffer.push(' <div class="s-full-height"> '),y=n["with"].call(s,"model.control.meta.elements","as","formElements",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(3,o,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(y||0===y)&&r.buffer.push(y),r.buffer.push(" </div> "),y=n["if"].call(s,"model.control.submitToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(17,g,r),contexts:[s],types:["ID"],data:r}),(y||0===y)&&r.buffer.push(y),x}),e.TEMPLATES["UMI/partials/formControl"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(' <div class="s-full-height-before"> '),t.buffer.push(w(n.view.call(e,"toolbar",{hash:{toolbar:"control.toolbar"},hashTypes:{toolbar:"ID"},hashContexts:{toolbar:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" </div> "),s}function o(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.hasFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(4,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <div class="row s-full-height collapse"> <div class="columns small-12 magellan-content"> '),s=n.each.call(e,"formElement","in","formElements",{hash:{itemViewClass:"view.elementView"},hashTypes:{itemViewClass:"STRING"},hashContexts:{itemViewClass:e},inverse:E.noop,fn:E.program(10,f,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> </div> "),a}function l(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"magellan",{hash:{elements:"formElements"},hashTypes:{elements:"ID"},hashContexts:{elements:e},inverse:E.noop,fn:E.program(5,c,t),contexts:[e],types:["STRING"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function c(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"formElement","in","view.elements",{hash:{itemViewClass:"view.elementView"},hashTypes:{itemViewClass:"STRING"},hashContexts:{itemViewClass:e},inverse:E.noop,fn:E.program(6,u,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function u(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.isFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(7,h,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function h(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"view.parentView.buttonView",{hash:{model:"formElement"},hashTypes:{model:"ID"},hashContexts:{model:e},inverse:E.noop,fn:E.program(8,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function p(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"formElement.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function f(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.isFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:E.program(15,v,t),fn:E.program(11,d,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function d(e,t){var s,a="";return t.buffer.push(' <fieldset id="fieldset-'),t.buffer.push(w(n.unbound.call(e,"formElement.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"> <legend '),t.buffer.push(w(n.action.call(e,"expand",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(' class="s-unselectable"> <i '),t.buffer.push(w(n["bind-attr"].call(e,{hash:{"class":":icon view.isExpanded:icon-bottom:icon-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s=n._triageMustache.call(e,"formElement.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </legend> "),s=n["if"].call(e,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(12,m,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </fieldset> "),a}function m(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"element","in","formElement.elements",{hash:{itemViewClass:"view.parentView.elementView"},hashTypes:{itemViewClass:"STRING"},hashContexts:{itemViewClass:e},inverse:E.noop,fn:E.program(13,b,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function b(e,t){var s="";return t.buffer.push(" "),t.buffer.push(w(n.view.call(e,"fieldFormControl",{hash:{metaBinding:"element",objectBinding:"controller.object"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:e,objectBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}function v(e,t){var s="";return t.buffer.push(" "),t.buffer.push(w(n.view.call(e,"fieldFormControl",{hash:{metaBinding:"formElement",objectBinding:"controller.object"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:e,objectBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}function g(e,t){var s="";return t.buffer.push(" "),t.buffer.push(w(n.view.call(e,"submitToolbar",{hash:{elements:"model.control.submitToolbar"},hashTypes:{elements:"ID"},hashContexts:{elements:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var y,x="",w=this.escapeExpression,E=this;return y=n["if"].call(s,"control.toolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(1,i,r),contexts:[s],types:["ID"],data:r}),(y||0===y)&&r.buffer.push(y),r.buffer.push(' <div class="s-full-height"> '),y=n["with"].call(s,"model.control.meta.elements","as","formElements",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(3,o,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(y||0===y)&&r.buffer.push(y),r.buffer.push(" </div> "),y=n["if"].call(s,"model.control.submitToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:E.noop,fn:E.program(17,g,r),contexts:[s],types:["ID"],data:r}),(y||0===y)&&r.buffer.push(y),x}),e.TEMPLATES["UMI/partials/form/submitToolbar"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(l(n.view.call(e,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l=this.escapeExpression,c=this;o=n.each.call(s,"view.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,i,r),contexts:[s],types:["ID"],data:r}),r.buffer.push(o||0===o?o:"")}),e.TEMPLATES["UMI/partials/alert-box"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <h5 class="subheader">'),s=n._triageMustache.call(e,"view.content.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</h5> "),a}function o(e,t){var s="";return t.buffer.push(" <span "),t.buffer.push(u(n.action.call(e,"close","view.content",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(' class="close">&times;</span> '),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var l,c="",u=this.escapeExpression,h=this;return l=n["if"].call(s,"view.content.title",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(1,i,r),contexts:[s],types:["ID"],data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push(" "),r.buffer.push(u(n._triageMustache.call(s,"view.content.content",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:s},contexts:[s],types:["ID"],data:r}))),r.buffer.push(" "),l=n["if"].call(s,"view.content.close",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(3,o,r),contexts:[s],types:["ID"],data:r}),(l||0===l)&&r.buffer.push(l),c}),e.TEMPLATES["UMI/partials/popup"]=e.Handlebars.template(function(t,s,n,a,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var i,o="",l=this.escapeExpression;return r.buffer.push('<div class="umi-popup-header"> <span class="umi-popup-title">'),i=n._triageMustache.call(s,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push('</span> <a href="#" class="umi-popup-close-button" '),r.buffer.push(l(n.action.call(s,"closePopup",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('> <i class="icon icon-delete"></i> </a> </div> <div class="umi-popup-content"> '),i=n._triageMustache.call(s,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push(' </div> <div class="umi-popup-resizer"></div>'),o}),e.TEMPLATES["UMI/partials/sideMenu"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n["link-to"]||e&&e["link-to"],r={hash:{tagName:"li"},hashTypes:{tagName:"STRING"},hashContexts:{tagName:e},inverse:u.noop,fn:u.program(2,o,t),contexts:[e,e],types:["STRING","ID"],data:t},s=a?a.call(e,"context","object.id",r):h.call(e,"link-to","context","object.id",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),i}function o(e,t){var s,a="";return t.buffer.push('<a href="javascript:void(0)">'),s=n._triageMustache.call(e,"object.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</a>"),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var l,c="",u=this,h=n.helperMissing;return r.buffer.push('<ul class="side-nav"> '),l=n.each.call(s,"object","in","objects",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(l||0===l)&&r.buffer.push(l),r.buffer.push(" </ul> "),c}),e.TEMPLATES["UMI/partials/table"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(' <td class="umi-table-ajax-header-column"> <div class="umi-table-ajax-title-div">'),s=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</div> </td> "),a}function o(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"view.row",{hash:{object:"element"},hashTypes:{object:"ID"},hashContexts:{object:e},inverse:f.noop,fn:f.program(4,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function l(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"view.cell",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <td class="umi-table-ajax-empty-column"></td> '),a}function c(e,t){var s,a="";return t.buffer.push(' <td class="umi-table-ajax-cell-td"> <div class="umi-table-ajax-cell-div">'),s=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</div> </td> "),a}function u(e,t){t.buffer.push(' <tr class="umi-metrika-empty-row"> <!-- TODO colspan заменить на переменную с количеством колонок --> <td class="umi-table-ajax-empty-result" colspan="4"> Нет записей </td> </tr> ')}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var h,p="",f=this;return r.buffer.push('<style> .umi-table-ajax{ background: #D6E0E9;; } .umi-table-ajax tbody td{ border-left: 1px solid #E3E4E5; } .umi-table-ajax-tr:hover{ background: #BFE0F8; cursor: pointer; } </style> <div class="umi-table-ajax-control-content"> <div class="umi-table-ajax-control-content-center"> <table cellpadding="0" class="umi-table-ajax-content"> <thead> <tr class="umi-table-ajax-titles"> '),h=n.each.call(s,"view.headers",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,i,r),contexts:[s],types:["ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(' <td class="umi-table-ajax-empty-header-column"></td> </tr> </thead> <tbody> '),h=n.each.call(s,"element","in","view.data",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(7,u,r),fn:f.program(3,o,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push(" </tbody> </table> </div> </div>"),p}),e.TEMPLATES["UMI/partials/tableControl"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"view.parentView.paginationView",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function o(e,t){var s,a,r,i="";return t.buffer.push(' <div class="right pagination-controls"> <span class="pagination-counter"> '),s=n._triageMustache.call(e,"view.counter",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </span> "),s=n.view.call(e,"view.prevButtonView",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(3,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),s=n.view.call(e,"view.nextButtonView",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(5,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' </div> <div class="right pagination-limit"> <span class="pagination-label">'),t.buffer.push(N((a=n.i18n||e&&e.i18n,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","STRING"],data:t},a?a.call(e,"Rows on page","tableControl",r):S.call(e,"i18n","Rows on page","tableControl",r)))),t.buffer.push(":</span> "),t.buffer.push(N(n.view.call(e,"view.limitView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" </div> "),i}function l(e,t){t.buffer.push(' <i class="icon black icon-left-thin"></i> ')}function c(e,t){t.buffer.push(' <i class="icon black icon-right-thin"></i> ')}function u(e,t){var s,a,r,i="";return t.buffer.push(' <td class="umi-table-control-header-column column-id-'),t.buffer.push(N((a=n.filterClassName||e&&e.filterClassName,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},a?a.call(e,"column.attributes.name",r):S.call(e,"filterClassName","column.attributes.name",r)))),t.buffer.push('" style="width: 200px"> <div class="umi-table-control-cell-firefox-fix"> <div class="umi-table-control-header-cell"> '),s=n._triageMustache.call(e,"column.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' </div> <div class="umi-table-control-column-resizer"></div> </div> </td> '),i}function h(e,t){var s,a,r,i="";return t.buffer.push(' <td class="umi-table-control-header-column"> <div class="umi-table-control-header-cell filter column-id-'),t.buffer.push(N((a=n.filterClassName||e&&e.filterClassName,r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},a?a.call(e,"column.attributes.name",r):S.call(e,"filterClassName","column.attributes.name",r)))),t.buffer.push('"> '),t.buffer.push(N(n.view.call(e,"view.filterRowView",{hash:{column:"column"},hashTypes:{column:"ID"},hashContexts:{column:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s=n.view.call(e,"view.sortHandlerView",{hash:{propertyName:"column.attributes.name"},hashTypes:{propertyName:"ID"},hashContexts:{propertyName:e},inverse:C.noop,fn:C.program(10,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> </td> "),i}function p(e,t){var s="";return t.buffer.push(" <i "),t.buffer.push(N(n["bind-attr"].call(e,{hash:{"class":":icon :black view.sortAscending:icon-bottom-thin:icon-top-thin"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s}function f(e,t){var s,a,r="";return t.buffer.push(' <td class="umi-table-control-content-cell column-id-'),t.buffer.push(N((s=n.filterClassName||e&&e.filterClassName,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},s?s.call(e,"column.attributes.name",a):S.call(e,"filterClassName","column.attributes.name",a)))),t.buffer.push('" style="width: 200px"></td> '),r}function d(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"object","in","objects",{hash:{},hashTypes:{},hashContexts:{},inverse:C.program(19,g,t),fn:C.program(15,m,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function m(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"view.rowView",{hash:{object:"object"},hashTypes:{object:"ID"},hashContexts:{object:e},inverse:C.noop,fn:C.program(16,b,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function b(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"column","in","content.control.meta.form.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(17,v,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' <td class="umi-table-control-empty-column"></td> '),a}function v(e,t){var s="";return t.buffer.push(' <td class="umi-table-control-content-cell"> '),t.buffer.push(N(n.view.call(e,"tableCellContent",{hash:{objectBinding:"object",column:"column"},hashTypes:{objectBinding:"STRING",column:"ID"},hashContexts:{objectBinding:e,column:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" </td> "),s}function g(e,t){var s,a,r="";return t.buffer.push(' <tr> <td> <div class="umi-table-control-content-div-empty"> <span>'),t.buffer.push(N((s=n.i18n||e&&e.i18n,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","STRING"],data:t},s?s.call(e,"No data","tableControl",a):S.call(e,"i18n","No data","tableControl",a)))),t.buffer.push("</span> </div> </td> </tr> "),r}function y(e,t){var s,a="";return t.buffer.push(" <div "),t.buffer.push(N(n["bind-attr"].call(e,{hash:{"class":":umi-table-control-column-fixed-cell object.active::umi-inactive"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(' data-objectId="'),t.buffer.push(N(n.unbound.call(e,"object.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"> '),s=n["if"].call(e,"controller.parentController.contextToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(22,x,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> "),a}function x(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"tableControlContextToolbar",{hash:{elements:"controller.parentController.contextToolbar"},hashTypes:{elements:"ID"},hashContexts:{elements:e},inverse:C.noop,fn:C.program(23,w,t),contexts:[e],types:["STRING"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function w(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"view.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(24,E,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function E(e,t){var s="";return t.buffer.push(" "),t.buffer.push(N(n.view.call(e,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var T,I="",C=this,S=n.helperMissing,N=this.escapeExpression;return T=n.view.call(s,"toolbar",{hash:{toolbar:"toolbar"},hashTypes:{toolbar:"ID"},hashContexts:{toolbar:s},inverse:C.noop,fn:C.program(1,i,r),contexts:[s],types:["STRING"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push(' <div class="umi-table-control-header s-unselectable"> <div class="umi-table-control-header-center"> <table class="umi-table-control-header"> <tbody> <tr class="umi-table-control-row"> '),T=n.each.call(s,"column","in","content.control.meta.form.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(7,u,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push(' <td class="umi-table-control-empty-column"></td> </tr> <tr class="umi-table-control-row filters"> '),T=n.each.call(s,"column","in","content.control.meta.form.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(9,h,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push(' <td class="umi-table-control-empty-column"></td> </tr> </tbody> </table> </div> <div class="umi-table-control-header-fixed-right"> <div class="umi-table-control-header-title"> <div class="umi-table-control-header-fixed-right-first"> </div> <div class="umi-table-control-header-fixed-right-second"> </div> </div> <div class="umi-table-control-header-filter"> </div> </div> </div> <div class="umi-table-control-content-wrapper"> <div class="s-scroll-wrap"> <table class="umi-table-control-content"> <tbody> <tr class="umi-table-control-content-row-size"> '),T=n.each.call(s,"column","in","content.control.meta.form.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(12,f,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push(' <td class="umi-table-control-empty-column"></td> </tr> '),T=n["if"].call(s,"objects.content.isFulfilled",{hash:{},hashTypes:{},hashContexts:{},inverse:C.noop,fn:C.program(14,d,r),contexts:[s],types:["ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push(' </tbody> </table> </div> <!-- Колонка справа от контента --> <div class="umi-table-control-content-fixed-right"> '),T=n.each.call(s,"object","in","objects",{hash:{itemController:"tableControlContextToolbarItem"},hashTypes:{itemController:"STRING"},hashContexts:{itemController:s},inverse:C.noop,fn:C.program(21,y,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(T||0===T)&&r.buffer.push(T),r.buffer.push(" </div> </div>"),I
}),e.TEMPLATES["UMI/partials/button"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(' <i class="icon icon-'),t.buffer.push(c(n.unbound.call(e,"view.meta.behaviour.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"></i> '),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l="",c=this.escapeExpression,u=this;return o=n["if"].call(s,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s],types:["ID"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(" "),o=n._triageMustache.call(s,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(o||0===o)&&r.buffer.push(o),l}),e.TEMPLATES["UMI/partials/dropdownButton/backupList"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" <span> "),t.buffer.push(d(n.unbound.call(e,"view.meta.attributes.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" </span> "),s}function o(e,t){var s,a="";return t.buffer.push(' <div class="row collapse" '),t.buffer.push(d(n.action.call(e,"applyBackup","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('> <div class="columns small-6 place-button"> '),s=n["if"].call(e,"isActive",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(6,c,t),fn:b.program(4,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),s=n._triageMustache.call(e,"created.date",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(' </div> <div class="columns small-6"> '),s=n["if"].call(e,"user",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(10,h,t),fn:b.program(8,u,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </div> </div> "),a}function l(e,t){t.buffer.push(' <button class="button flat tiny square"> <i class="icon icon-accept"></i> </button> ')}function c(e,t){t.buffer.push(' <button class="button flat tiny square"> <i class="icon icon-renew"></i> </button> ')}function u(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"user",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function h(e,t){var s,a,r="";return t.buffer.push(" "),t.buffer.push(d((s=n.i18n||e&&e.i18n,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","STRING"],data:t},s?s.call(e,"User name","toolbar:dropdownButton",a):m.call(e,"i18n","User name","toolbar:dropdownButton",a)))),t.buffer.push(" "),r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var p,f="",d=this.escapeExpression,m=n.helperMissing,b=this;return r.buffer.push('<a href="javascript:void(0)" class="button white dropdown" '),r.buffer.push(d(n.action.call(s,"open",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('> <i class="icon icon-backupList"></i> '),p=n["if"].call(s,"view.meta.attributes.label",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(1,i,r),contexts:[s],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push(' </a> <div class="f-dropdown umi-dropdown dropdown-rows right"> <div class="row collapse"> <div class="columns small-12"> <strong>'),p=n._triageMustache.call(s,"view.button.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push('</strong> </div> </div> <div class="s-scroll-wrap"> <div> '),p=n.each.call(s,"view.backupList",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(3,o,r),contexts:[s],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push(" </div> </div> </div>"),f}),e.TEMPLATES["UMI/partials/dropdownButton"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(' <i class="'),t.buffer.push(h(n.unbound.call(e,"view.meta.attributes.icon.class",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"></i> '),s}function o(e,t){var s="";return t.buffer.push(" "),t.buffer.push(h(n.unbound.call(e,"view.meta.attributes.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}function l(e,t){var s,a="";return t.buffer.push(" <span "),t.buffer.push(h(n.action.call(e,"sendActionForBehaviour","behaviour",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push("> "),s=n._triageMustache.call(e,"attributes.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </span> "),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var c,u="",h=this.escapeExpression,p=this;return c=n["if"].call(s,"view.meta.attributes.icon",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(1,i,r),contexts:[s],types:["ID"],data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push(" "),c=n["if"].call(s,"view.meta.attributes.label",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(3,o,r),contexts:[s],types:["ID"],data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push(' <ul class="f-dropdown"> '),c=n.each.call(s,"view.meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(5,l,r),contexts:[s],types:["ID"],data:r}),(c||0===c)&&r.buffer.push(c),r.buffer.push(" </ul> "),u}),e.TEMPLATES["UMI/partials/splitButton"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" <i "),t.buffer.push(p(n["bind-attr"].call(e,{hash:{"class":":icon view.defaultBehaviourIcon"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s}function o(e,t){var s,a="";return t.buffer.push(' <b class="button-label">'),s=n._triageMustache.call(e,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</b> "),a}function l(e,t){var s,a="";return t.buffer.push(" "),s=n.view.call(e,"view.itemView",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function c(e,t){var s,a="";return t.buffer.push(" <i "),t.buffer.push(p(n["bind-attr"].call(e,{hash:{"class":":icon :icon-accept view.isDefaultBehaviour::white"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(" "),t.buffer.push(p(n.action.call(e,"toggleDefaultBehaviour","view._parentView.contentIndex",{hash:{target:"view.parentView",on:"mouseUp"},hashTypes:{target:"STRING",on:"STRING"},hashContexts:{target:e,on:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push("></i> <a "),t.buffer.push(p(n.action.call(e,"sendActionForBehaviour","behaviour",{hash:{target:"view.parentView",on:"mouseUp"},hashTypes:{target:"STRING",on:"STRING"},hashContexts:{target:e,on:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push("> "),s=n._triageMustache.call(e,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </a> "),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var u,h="",p=this.escapeExpression,f=this;return u=n["if"].call(s,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,i,r),contexts:[s],types:["ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push(" "),u=n["if"].call(s,"view.label",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,o,r),contexts:[s],types:["ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push(' <span class="dropdown-toggler" '),r.buffer.push(p(n.action.call(s,"open",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:s},contexts:[s],types:["STRING"],data:r}))),r.buffer.push('></span> <ul class="f-dropdown composite"> '),u=n.each.call(s,"view.meta.behaviour.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,l,r),contexts:[s],types:["ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push(" </ul> "),h}),e.TEMPLATES["UMI/partials/toolbar"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(c(n.view.call(e,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l="",c=this.escapeExpression,u=this;return r.buffer.push('<ul class="button-group left"> '),o=n.each.call(s,"view.toolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s],types:["ID"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(' </ul> <div class="right"> '),o=n._triageMustache.call(s,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(" </div>"),l}),e.TEMPLATES["UMI/partials/topBar"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a,r="";return t.buffer.push(' mail@yandex.ru <ul class="f-dropdown right"> <li><a href="javascript:void(0)" '),t.buffer.push(h(n.action.call(e,"logout",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">"),t.buffer.push(h((s=n.i18n||e&&e.i18n,a={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t},s?s.call(e,"Logout",a):p.call(e,"i18n","Logout",a)))),t.buffer.push("</a></li> </ul> "),r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l,c,u="",h=this.escapeExpression,p=n.helperMissing,f=this;return r.buffer.push('<nav class="umi-top-bar"> <ul class="umi-top-bar-list left"> <li> <a href="javascript:void(0)" '),r.buffer.push(h(n.action.call(s,"viewOnSite",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(' class="button tiny flat umi-top-bar-button"> '),r.buffer.push(h((l=n.i18n||s&&s.i18n,c={hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r},l?l.call(s,"Open site in new tab",c):p.call(s,"i18n","Open site in new tab",c)))),r.buffer.push(' <i class="icon icon-viewOnSite"></i> </a> </li> </ul> <ul class="umi-top-bar-list right"> <li> '),o=n.view.call(s,"dropdownButton",{hash:{tagName:"span","class":"button tiny flat dropdown umi-top-bar-button"},hashTypes:{tagName:"STRING","class":"STRING"},hashContexts:{tagName:s,"class":s},inverse:f.noop,fn:f.program(1,i,r),contexts:[s],types:["STRING"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(" </li> "),r.buffer.push(h(n.view.call(s,"notificationList",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["STRING"],data:r}))),r.buffer.push(" </ul> </nav>"),u}),e.TEMPLATES["UMI/partials/treeControl"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(c(n.view.call(e,"treeItem",{hash:{treeControlView:"view",item:"item"},hashTypes:{treeControlView:"ID",item:"ID"},hashContexts:{treeControlView:e,item:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l="",c=this.escapeExpression,u=this;return r.buffer.push('<div class="columns small-12" style="overflow: hidden;"> <div class="row s-full-height umi-tree-wrapper"> <ul class="umi-tree-list umi-tree"> '),o=n.each.call(s,"item","in","root",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s,s,s],types:["ID","ID","ID"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(" </ul> </div> </div>"),l}),e.TEMPLATES["UMI/partials/treeControl/treeItem"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(" <span "),t.buffer.push(E(n.action.call(e,"expanded",{hash:{on:"mouseDown",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:e,target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),t.buffer.push(E(n["bind-attr"].call(e,{hash:{"class":":umi-expand"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("> "),s=n["if"].call(e,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:T.program(3,l,t),fn:T.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </span> <i "),t.buffer.push(E(n["bind-attr"].call(e,{hash:{"class":":icon :umi-tree-type-icon :icon-document view.item.root::move"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),a}function o(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.sortedChildren",{hash:{},hashTypes:{},hashContexts:{},inverse:T.program(5,c,t),fn:T.program(3,l,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function l(e,t){var s="";return t.buffer.push(" <i "),t.buffer.push(E(n["bind-attr"].call(e,{hash:{"class":":icon view.isExpanded:icon-bottom:icon-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s}function c(e,t){t.buffer.push(' <i class="animate animate-loader-20"></i> ')}function u(e,t){var s="";return t.buffer.push(" <i "),t.buffer.push(E(n["bind-attr"].call(e,{hash:{"class":":icon :umi-tree-type-icon :icon-document view.item.root::move"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s}function h(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n["link-to"]||e&&e["link-to"],r={hash:{"class":"tree-item-link"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},inverse:T.noop,fn:T.program(10,p,t),contexts:[e,e,e],types:["STRING","ID","STRING"],data:t},s=a?a.call(e,"action","view.item.id","editForm",r):I.call(e,"link-to","action","view.item.id","editForm",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),i}function p(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"view.savedDisplayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function f(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n["link-to"]||e&&e["link-to"],r={hash:{"class":"tree-item-link"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},inverse:T.noop,fn:T.program(10,p,t),contexts:[e,e],types:["STRING","ID"],data:t},s=a?a.call(e,"context","view.item.id",r):I.call(e,"link-to","context","view.item.id",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),i}function d(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n.render||e&&e.render,r={hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(15,m,t),contexts:[e,e],types:["STRING","ID"],data:t},s=a?a.call(e,"treeControlContextToolbar","view.item",r):I.call(e,"render","treeControlContextToolbar","view.item",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),i}function m(e,t){var s,a="";return t.buffer.push(" "),s=n.each.call(e,"parentController.contextToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(16,b,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function b(e,t){var s="";return t.buffer.push(" "),t.buffer.push(E(n.view.call(e,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(" "),s}function v(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(19,g,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function g(e,t){var s,a="";return t.buffer.push(' <ul class="umi-tree-list" data-parent-id="'),t.buffer.push(E(n.unbound.call(e,"item.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('"> '),s=n.each.call(e,"item","in","view.sortedChildren",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(20,y,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </ul> "),a}function y(e,t){var s="";return t.buffer.push(" "),t.buffer.push(E(n.view.call(e,"treeItem",{hash:{treeControlView:"view.treeControlView",item:"item"},hashTypes:{treeControlView:"ID",item:"ID"},hashContexts:{treeControlView:e,item:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var x,w="",E=this.escapeExpression,T=this,I=n.helperMissing;return r.buffer.push("<div "),r.buffer.push(E(n["bind-attr"].call(s,{hash:{"class":":umi-item view.item.type view.active view.inActive"},hashTypes:{"class":"STRING"},hashContexts:{"class":s},contexts:[],types:[],data:r}))),r.buffer.push("> "),x=n["if"].call(s,"item.childCount",{hash:{},hashTypes:{},hashContexts:{},inverse:T.program(7,u,r),fn:T.program(1,i,r),contexts:[s],types:["ID"],data:r}),(x||0===x)&&r.buffer.push(x),r.buffer.push(" "),x=n["if"].call(s,"view.editLink",{hash:{},hashTypes:{},hashContexts:{},inverse:T.program(12,f,r),fn:T.program(9,h,r),contexts:[s],types:["ID"],data:r}),(x||0===x)&&r.buffer.push(x),r.buffer.push(" "),x=n["if"].call(s,"controller.contextToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(14,d,r),contexts:[s],types:["ID"],data:r}),(x||0===x)&&r.buffer.push(x),r.buffer.push(" </div> "),x=n["if"].call(s,"item.childCount",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(18,v,r),contexts:[s],types:["ID"],data:r}),(x||0===x)&&r.buffer.push(x),w}),e.TEMPLATES["UMI/partials/treeSimple/item"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s,a="";return t.buffer.push(" "),s=n["if"].call(e,"components",{hash:{},hashTypes:{},hashContexts:{},inverse:g.program(4,l,t),fn:g.program(2,o,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),s=n["if"].call(e,"resource",{hash:{},hashTypes:{},hashContexts:{},inverse:g.program(7,u,t),fn:g.program(6,c,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function o(e,t){var s="";return t.buffer.push(" <span "),t.buffer.push(v(n.action.call(e,"expanded",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),t.buffer.push(v(n["bind-attr"].call(e,{hash:{"class":":umi-expand"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("> <i "),t.buffer.push(v(n["bind-attr"].call(e,{hash:{"class":":icon view.isExpanded:icon-bottom:icon-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> </span> <i "),t.buffer.push(v(n["bind-attr"].call(e,{hash:{"class":":icon :umi-tree-type-icon :icon-document"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s}function l(e,t){var s="";return t.buffer.push(" <i "),t.buffer.push(v(n["bind-attr"].call(e,{hash:{"class":":icon :umi-tree-type-icon :icon-document"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></i> "),s}function c(e,t){var s,a,r,i="";return t.buffer.push(" "),a=n["link-to"]||e&&e["link-to"],r={hash:{"class":"tree-item-link"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},inverse:g.noop,fn:g.program(7,u,t),contexts:[e,e],types:["STRING","ID"],data:t},s=a?a.call(e,"settings.component","view.nestedSlug",r):y.call(e,"link-to","settings.component","view.nestedSlug",r),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),i}function u(e,t){var s,a="";return t.buffer.push(" "),s=n._triageMustache.call(e,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" "),a}function h(e,t){var s,a="";return t.buffer.push(' <ul class="umi-tree-list"> '),s=n.each.call(e,"components",{hash:{},hashTypes:{},hashContexts:{},inverse:g.noop,fn:g.program(10,p,t),contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" </ul> "),a}function p(e,t){var s="";return t.buffer.push(" "),t.buffer.push(v(n.view.call(e,"treeSimpleItem",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var f,d,m,b="",v=this.escapeExpression,g=this,y=n.helperMissing;return d=n["link-to"]||s&&s["link-to"],m={hash:{tagName:"div","class":"umi-item",disabled:!0,bubbles:!1},hashTypes:{tagName:"STRING","class":"STRING",disabled:"BOOLEAN",bubbles:"BOOLEAN"},hashContexts:{tagName:s,"class":s,disabled:s,bubbles:s},inverse:g.noop,fn:g.program(1,i,r),contexts:[s,s],types:["STRING","ID"],data:r},f=d?d.call(s,"settings.component","view.nestedSlug",m):y.call(s,"link-to","settings.component","view.nestedSlug",m),(f||0===f)&&r.buffer.push(f),r.buffer.push(" "),f=n["if"].call(s,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:g.noop,fn:g.program(9,h,r),contexts:[s],types:["ID"],data:r}),(f||0===f)&&r.buffer.push(f),r.buffer.push(" "),b}),e.TEMPLATES["UMI/partials/treeSimple/list"]=e.Handlebars.template(function(t,s,n,a,r){function i(e,t){var s="";return t.buffer.push(" "),t.buffer.push(c(n.view.call(e,"treeSimpleItem",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(" "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.Handlebars.helpers),r=r||{};var o,l="",c=this.escapeExpression,u=this;return r.buffer.push('<div class="columns small-12"> <div class="row s-full-height umi-tree-wrapper"> <ul class="umi-tree-list umi-tree"> '),o=n.each.call(s,"view.collection",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[s],types:["ID"],data:r}),(o||0===o)&&r.buffer.push(o),r.buffer.push(" </ul> </div> </div>"),l})}),define("application/templates.extends",[],function(){return function(){Ember.TEMPLATES["UMI/module/errors"]=Ember.TEMPLATES["UMI/component/errors"]=Ember.TEMPLATES["UMI/errors"]}}),define("application/models",[],function(){return function(UMI){var propertyFilters={stringTrim:function(e){return e.replace(/^\s+|\s+$/g,"")},htmlSafe:function(e){return Ember.String.htmlSafe(e)},stripTags:function(e){return e}};DS.Model.reopen({needReloadHasMany:Ember.K,validErrors:null,filterProperty:function(e){var t=this.get("store").metadataFor(this.constructor.typeKey)||"",s=Ember.get(t,"filters."+e);if(s){for(var n=this.get(e),a=0;a<s.length;a++)Ember.assert('Фильтр "'+s[a].type+'" не определен.',propertyFilters.hasOwnProperty(s[a].type)),n=propertyFilters[s[a].type](n);this.set(e,n)}},validateProperty:function(propertyName){var meta=this.get("store").metadataFor(this.constructor.typeKey)||"",validators=Ember.get(meta,"validators."+propertyName);if(validators)for(var value=this.get(propertyName),errors=[],activeErrors,i=0;i<validators.length;i++){switch(validators[i].type){case"required":value||errors.push({message:validators[i].message});break;case"regexp":var pattern=eval(validators[i].options.pattern);pattern.test(value)||errors.push({message:validators[i].message})}if(errors.length)activeErrors=this.get("validErrors"),activeErrors?this.set("validErrors."+propertyName,errors):(activeErrors={},activeErrors[propertyName]=errors,this.set("validErrors",activeErrors)),this.get("isValid")&&this.send("becameInvalid");else if(!this.get("isValid")){activeErrors=this.get("validErrors"),activeErrors&&activeErrors.hasOwnProperty(propertyName)&&delete activeErrors[propertyName],i=0;for(var error in activeErrors)activeErrors.hasOwnProperty(error)&&++i;activeErrors=i?activeErrors:null,this.set("validErrors",activeErrors),this.send("becameValid")}}},clearValidateForProperty:function(e){var t=this.get("validErrors");t&&t.hasOwnProperty(e)&&delete t[e];var s=0;for(var n in t)t.hasOwnProperty(n)&&++s;t=s?t:null,this.set("validErrors",t)},loadedRelationshipsByName:{},changedRelationshipsByName:{},changeRelationshipsValue:function(e,t){var s=this.get("loadedRelationshipsByName"),n=this.get("changedRelationshipsByName");Ember.set(n,e,t);var a=!1,r=this;for(var i in n)i in s?"Array"===Object.prototype.toString.call(s[i]).slice(8,-1)&&"Array"===Object.prototype.toString.call(n[i]).slice(8,-1)?s[i].length!==n[i].length?a=!0:(a=n[i].every(function(e){return s[i].contains(e)?!0:void 0}),a=!a):s[i]!==n[i]&&(a=!0):a=!0;if(a)r.send("becomeDirty");else{var o=r.changedAttributes();JSON.stringify(o)===JSON.stringify({})&&r.send("rolledBack")}},relationPropertyIsDirty:function(e){var t=this.get("loadedRelationshipsByName"),s=this.get("changedRelationshipsByName"),n=!1;return s.hasOwnProperty(e)&&(Ember.assert("Не добавлена загруженная связь. После загрузки связей hasMany и ManyToMany необходимо добавлять их результат к loadedRelationshipsByName",t.hasOwnProperty(e)),"Array"===Object.prototype.toString.call(t[e]).slice(8,-1)&&"Array"===Object.prototype.toString.call(s[e]).slice(8,-1)?t[e].length!==s[e].length?n=!0:(n=s[e].every(function(s){return t[e].contains(s)?!0:void 0}),n=!n):t[e]!==s[e]&&(n=!0)),n},updateRelationhipsMap:function(){var e=this.get("loadedRelationshipsByName"),t=this.get("changedRelationshipsByName");for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);this.set("changedRelationshipsByName",{})}}),UMI.modelsFactory=function(e){for(var t,s,n=0;n<e.length;n++){var a={},r={},i={};t=e[n];for(var o=0;o<t.fields.length;o++){var l={};switch(t.fields[o].displayName&&(l.displayName=t.fields[o].displayName),t.fields[o]["default"]&&(l.defaultValue=t.fields[o]["default"]),t.fields[o].type){case"string":s=DS.attr("string",l);break;case"number":case"integer":case"counter":s=DS.attr("number",l);break;case"bool":s=DS.attr("boolean",l);break;case"date":s=DS.attr("CustomDate",l);break;case"dateTime":s=DS.attr("CustomDateTime",l);break;case"time":s=DS.attr("string",l);break;case"serialized":s=DS.attr("serialized",l);break;case"belongsToRelation":l.async=!0,t.fields[o].targetCollection===t.name&&(l.inverse="children"),s=DS.belongsTo(t.fields[o].targetCollection,l);break;case"hasManyRelation":l.async=!0,l.inverse=t.fields[o].targetField,s=DS.hasMany(t.fields[o].targetCollection,l);break;case"manyToManyRelation":l.async=!0,s=DS.hasMany(t.fields[o].targetCollection,l);break;default:s=DS.attr("raw",l)}t.fields[o].filters&&(r[t.fields[o].name]=t.fields[o].filters),t.fields[o].validators&&(i[t.fields[o].name]=t.fields[o].validators),"identify"!==t.fields[o].type&&(a[t.fields[o].name]=s)}a.meta=DS.attr("raw"),UMI[t.name.capitalize()]=DS.Model.extend(a),UMI.__container__.lookup("store:main").metaForType(t.name,{collectionType:t.type,filters:r,validators:i}),t.source&&(UMI[t.name.capitalize()+"Adapter"]=DS.UmiRESTAdapter.extend({namespace:t.source.replace(/^\//g,"")}))}}}}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!auth/templates/auth.hbs",[],function(){return'<div class="auth-layout">\r\n    <div class="bubbles"></div>\r\n    <div class="bubbles-front"></div>\r\n    <div class="row vertical-center">\r\n        <div class="small-centered columns auth-layout-content">\r\n            <p class="text-center">\r\n                <img src="/resources/build/img/auth-logo.png"/>\r\n            </p>\r\n\r\n            <div>\r\n                {{{outlet}}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="auth-mask"></div>'}),define("text!auth/templates/index.hbs",[],function(){return'<div class="panel pretty radius shake-it">\r\n    <form name="auth" novalidate="novalidate" class="custom large umi-validator" method="post" action="{{form.attributes.action}}">\r\n        <div class="errors-list">\r\n            {{#if accessError}}\r\n                <div class="alert-box alert visible">\r\n                    <a href="#" class="close">×</a>\r\n                    {{accessError}}\r\n                </div>\r\n            {{/if}}\r\n        </div>\r\n        {{#each form.elements}}\r\n            <div class="row">\r\n                <div class="small-12 columns">\r\n                    {{#ifCond type \'select\'}}\r\n                        <select name="{{attributes.name}}" placeholder="{{label}}" class="select-language">\r\n                            {{#each choices}}\r\n                                <option value="{{attributes.value}}">{{label}}</option>\r\n                            {{/each}}\r\n                        </select>\r\n                    {{else}}\r\n                        <i class="icon icon-{{attributes.name}} input-icon"></i>\r\n                        <input name="{{attributes.name}}" placeholder="{{label}}" type="{{attributes.type}}" required="required" autocomplete="off" value="">\r\n                        {{#if validators}}\r\n                            <span class="error">\r\n                                {{#each validators}}\r\n                                    {{message}}\r\n                                {{/each}}\r\n                            </span>\r\n                        {{/if}}\r\n                    {{/ifCond}}\r\n                </div>\r\n            </div>\r\n        {{/each}}\r\n        <div class="row">\r\n            <div class="small-6 small-offset-6 columns">\r\n                <input name="submit" class="button radius expand s-margin-clear" type="submit" value="Войти" />\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>'}),define("text!auth/templates/errors.hbs",[],function(){return'<div class="alert-box alert">\r\n    <a href="#" class="close">×</a>\r\n    {{#if error}}\r\n    {{error}}\r\n    {{else}}\r\n    Форма заполнена некорректно.\r\n    {{/if}}\r\n</div>'}),define("auth/templates",["text!./templates/auth.hbs","text!./templates/index.hbs","text!./templates/errors.hbs","Handlebars"],function(e,t,s){return function(n){n.TEMPLATES.app=Handlebars.compile(e),n.TEMPLATES.index=Handlebars.compile(t),n.TEMPLATES.lostPassword=Handlebars.compile(t),n.TEMPLATES.forgetLink=Handlebars.compile('{{#link-to "lostPassword" class="button"}}Забыли пароль?{{/link-to}}'),n.TEMPLATES.indexLink=Handlebars.compile('{{#link-to "index" class="button"}}Войти в CMS{{/link-to}}'),n.TEMPLATES.errors=Handlebars.compile(s)}}),define("auth/main",["auth/templates","Handlebars","jquery"],function(e){return function(t){$.ajaxSetup({headers:{"X-Csrf-Token":null},error:function(){}});var s={accessError:function(){return t&&t.accessError&&401!==t.accessError.status?t.accessError.responseJSON&&t.accessError.responseJSON.result.error.message:void 0},TEMPLATES:{},forms:{},getForm:function(e){var t=$.Deferred();e=e||"form";var s=this;return $.get(window.UmiSettings.baseApiURL+"/action/"+e).then(function(n){s.forms[e]=n.result.form,t.resolve()}),t},validator:{shake:function(){function e(t,s,n){t.style.left=s.shift()+"px",s.length>0&&setTimeout(function(){e(t,s,n)},n)}var t=[10,20,10,0,-10,-20,-10,0];t=t.concat(t.concat(t));var s=document.getElementsByClassName("shake-it").item(0);s.style.position="relative",e(s,t,20)},check:function(e){var t,s,n,a=!0,r=function(e){e.onfocus=function(){$(this).closest(".columns").removeClass("error")}},i=function(e,t){return t?($(e).closest(".columns").removeClass("error"),void(e.onfocus=null)):($(e).closest(".columns").addClass("error"),r(e),!0)};for(t=0;t<e.elements.length;t++)if(s=e.elements[t],(s.hasAttribute("required")||s.value)&&s.hasAttribute("pattern")){if(n=new RegExp(s.getAttribute("pattern")),n.test(s.value)||(a=!1),i(s,a))break}else if(s.hasAttribute("required")&&(s.value||(a=!1),i(s,a)))break;return a}},transition:function(){window.applicationLoading=$.Deferred(),document.onmousemove=null;var e=document.querySelector(".auth-layout"),n=document.querySelector(".auth-mask");
$(e).addClass("off is-transition");var a=function(){$(e).addClass("fade-out"),setTimeout(function(){e.parentNode.removeChild(e),n.parentNode.removeChild(n),s.destroy()},800)};t.appIsFreeze?(window.applicationLoading.resolve(),$(t.appLayout).removeClass("off fade-out"),a()):require(["application/main"],function(e){e(),window.applicationLoading.then(function(){a()})})},init:function(){var t=this;Handlebars.registerHelper("ifCond",function(e,t,s){return e===t?s.fn(this):s.inverse(this)}),e(t),this.getForm().then(function(){if(!document.querySelector(".auth-layout")){var e=document.createElement("div");e.innerHTML=t.TEMPLATES.app({outlet:t.TEMPLATES.index({accessError:t.accessError,form:t.forms.form})}),e=document.body.appendChild(e),$(e.firstElementChild).unwrap()}$("body").removeClass("loading");var s=document.querySelector(".bubbles"),n=document.querySelector(".bubbles-front"),a=function(e){var t=document.body.offsetWidth,a=document.body.offsetHeight,r=.04,i=.04,o=(t/2-e.clientX)*r,l=(a/2-e.clientY)*i;s.style.marginLeft=o+"px",s.style.marginTop=l+"px",n.style.marginLeft=.2*o+"px",n.style.marginTop=.2*l+"px"},r=!0;document.onmousemove=function(e){r&&(s.className="bubbles visible",n.className="bubbles-front visible",r=!1),a(e)},history.state&&history.state.hasOwnProperty("language")&&$(".select-language").val(history.state.language),$(document).on("change.umi.auth",".select-language",function(){history.replaceState({language:this.value},"?language="+this.value),window.location.href=window.location.href}),$(document).on("click.umi.auth",".close",function(){return this.parentNode.parentNode.removeChild(this.parentNode),!1});var i=document.querySelector(".errors-list");$(document).on("submit.umi.auth","form",function(){if(!t.validator.check(this))return!1;var e=this.querySelector('input[type="submit"]');$(e).addClass("loading");var s=this.elements.submit;s.setAttribute("disabled","disabled");var n=$(this).serialize(),a=this.getAttribute("action"),r=$.post(a,n),o=function(n){$(e).removeClass("loading"),s.removeAttribute("disabled");var a={error:n.responseJSON.result.error.message};i.innerHTML=t.TEMPLATES.errors(a),$(i).children(".alert-box").addClass("visible")};return r.done(function(e){var s=function(e,t){for(var s in t)t.hasOwnProperty(s)&&("token"===s&&$.ajaxSetup({headers:{"X-Csrf-Token":t[s]}}),e[s]=t[s])};e.result&&s(window.UmiSettings,e.result),t.transition()}),r.fail(function(e){o(e)}),!1})})},destroy:function(){$(document).off("click.umi.auth"),$(document).off("submit.umi.auth"),$(document).off("change.umi.auth")}};s.init()}}),define("application/router",[],function(){return function(e){e.Router.reopen({location:"auto",rootURL:window.UmiSettings.baseURL}),e.Router.map(function(){this.resource("module",{path:"/:module"},function(){this.route("errors",{path:"/:status"}),this.resource("component",{path:"/:component"},function(){this.route("errors",{path:"/:status"}),this.resource("context",{path:"/:context"},function(){this.resource("action",{path:"/:action"})})})})}),e.ApplicationRoute=Ember.Route.extend({model:function(t,s){var n,a=this;try{if(!UmiSettings.baseApiURL)throw new Error("Для UmiSettings не задан baseApiURL");n=$.get(UmiSettings.baseApiURL).then(function(t){if(t&&t.result){var n=t.result;a.controllerFor("application").set("settings",n),n.collections&&e.modelsFactory(n.collections),n.modules&&a.controllerFor("application").set("modules",n.modules),n.i18n&&e.i18n.setDictionary(n.i18n)}else try{throw new Error("Запрашиваемый ресурс "+UmiSettings.baseApiURL+" некорректен.")}catch(r){s.abort(),s.send("dialogError",r)}},function(e){var t=new Error(e);e.stack=t.stack,s.send("dialogError",e)})}catch(r){s.abort(),s.send("dialogError",r)}finally{return n}},saveObject:function(t){var s,n;return t.object.get("isValid")?("root.loaded.created.uncommitted"===t.object.get("currentState.stateName")&&(s=!0),t.object.save().then(function(){return t.object.updateRelationhipsMap(),t.handler&&$(t.handler).removeClass("loading"),t.object},function(s){t.handler&&$(t.handler).removeClass("loading");var n={close:!1,title:s.errors,content:s.message,confirm:"Загрузить объект с сервера"};return e.dialog.open(n).then(function(){return!1})})):(t.handler&&$(t.handler).removeClass("loading"),n=Ember.RSVP.defer(),n.resolve(!1))},beforeAdd:function(e){var t=this;return t.saveObject(e).then(function(e){if("hierarchic"===e.store.metadataFor(e.constructor.typeKey).collectionType){var s=e.get("parent");return s&&"isFulfilled"in s?s.then(function(t){return t.reload().then(function(e){e.trigger("needReloadHasMany")}),e}):(t.get("container").lookup("controller:treeControl").get("root")[0].updateChildren(e.get("id"),"root"),e)}return e})},actions:{willTransition:function(){e.notification.removeAll()},logout:function(){var e=document.querySelector(".umi-main-view"),t=document.createElement("div");t.className="auth-mask",t=document.body.appendChild(t),$(e).addClass("off is-transition"),$.post(UmiSettings.baseApiURL+"/action/logout").then(function(){require(["auth/main"],function(s){s({appIsFreeze:!0,appLayout:e}),$(e).addClass("fade-out"),Ember.run.later("",function(){$(e).removeClass("is-transition"),t.parentNode.removeChild(t)},800)})})},dialogError:function(t){var s=this.parseError(t);"silence"!==s&&(s.close=!0,s.title=t.status+". "+t.statusText,e.dialog.open(s).then())},backgroundError:function(t){var s=this.parseError(t);"silence"!==s&&(s.type="error",s.duration=!1,e.notification.create(s))},templateLogs:function(e,t){t=t||"module";var s=this.parseError(e);if("silence"!==s){var n=Ember.Object.create(s);this.intermediateTransitionTo(t+".errors",n)}},showPopup:function(t,s,n){e.PopupView.create({container:this.container,popupType:t,object:s,meta:n}).append()},save:function(e){this.saveObject(e)},saveAndGoBack:function(e){var t=this;t.saveObject(e).then(function(e){e&&t.send("backToFilter")})},add:function(e){var t=this;return t.beforeAdd(e).then(function(e){t.send("edit",e)})},addAndGoBack:function(e){var t=this;return t.beforeAdd(e).then(function(){t.send("backToFilter")})},addAndCreate:function(e){var t=this;return t.beforeAdd(e).then(function(e){var s={type:e.get("type")};return"hierarchic"===e.store.metadataFor(e.constructor.typeKey).collectionType?e.get("parent").then(function(e){t.send("create",e,s)}):void t.send("create",e,s)})},switchActivity:function(t){try{var s=JSON.stringify(t.toJSON({includeId:!0})),n=this.controllerFor("component").get("settings").actions[(t.get("active")?"de":"")+"activate"].source;n=e.Utils.replacePlaceholder(t,n),$.ajax({url:n,type:"POST",data:s,contentType:"application/json; charset=UTF-8"}).then(function(){t.reload()})}catch(a){this.send("backgroundError",a)}},create:function(e){var t=e.behaviour.type,s=e.object,n="root";if(s.constructor.typeKey){var a=this.store.metadataFor(s.constructor.typeKey)||{};a.hasOwnProperty("collectionType")&&"hierarchic"===a.collectionType&&(n=s.get("id"))}this.transitionTo("action",n,"createForm",{queryParams:{type:t}})},edit:function(e){this.transitionTo("action",e.get("id"),"editForm")},viewOnSite:function(e){var t;t=e?e._data.meta.pageUrl:window.UmiSettings.baseSiteURL,t=window.location.host+t;var s=window.open("//"+t.replace("//","/"),"_blank");s.focus()},trash:function(t){var s,n,a,r,i=this,o=i.get("store");try{if(n=JSON.stringify(t.toJSON({includeId:!0})),a=this.modelFor("context")===t,r=this.controllerFor("component").get("settings").actions.trash,!r)throw new Error("Action trash not supported for component.");s=$.ajax({url:r.source+"?id="+t.get("id"),type:"POST",data:n,contentType:"application/json; charset=UTF-8"}).then(function(){o.unloadRecord(t);var s={type:"success",content:'"'+t.get("displayName")+'" удалено в корзину.'};e.notification.create(s),a&&i.send("backToFilter")},function(){var s={type:"error",content:'"'+t.get("displayName")+'" не удалось поместить в корзину.'};e.notification.create(s)})}catch(l){this.send("backgroundError",l)}finally{return s}},"delete":function(t){var s=this,n=this.modelFor("context")===t,a={close:!1,title:'Удаление "'+t.get("displayName")+'".',content:"<div>Объект будет удалён без возможности востановления, всё равно продолжить?</div>",confirm:"Удалить",reject:"Отмена"};return e.dialog.open(a).then(function(){return t.destroyRecord().then(function(){var a={type:"success",content:'"'+t.get("displayName")+'" успешно удалено.'};e.notification.create(a),n&&s.send("backToFilter")},function(){var s={type:"error",content:'"'+t.get("displayName")+'" не удалось удалить.'};e.notification.create(s)})},function(){})},backToFilter:function(){this.transitionTo("context","root")}},parseError:function(e){var t={status:e.status,title:e.statusText,stack:e.stack};if(403===e.status||401===e.status)return this.send("logout"),"silence";var s;return e.hasOwnProperty("responseJSON")?e.responseJSON.hasOwnProperty("result")&&e.responseJSON.result.hasOwnProperty("error")&&(s=e.responseJSON.result.error.message):s=e.responseText||e.message,t.content=s,t}}),e.IndexRoute=Ember.Route.extend({redirect:function(e,t){var s;if(t.targetName===this.routeName)try{if(s=this.controllerFor("application").get("modules")[0],!s)throw new Error("Ни одного модуля системы не найдено")}catch(n){t.send("backgroundError",n)}finally{return this.transitionTo("module",Ember.get(s,"name"))}}}),e.ModuleRoute=Ember.Route.extend({model:function(e){var t,s,n;try{if(t=Ember.RSVP.defer(),s=this.controllerFor("application").get("modules"),n=s.findBy("name",e.module),!n)throw new Error('The module "'+e.module+'" was not found.');t.resolve(n)}catch(a){t.reject(a)}finally{return t.promise}},redirect:function(e,t){if(t.targetName===this.routeName+".index"){var s,n,a=this;try{if(s=Ember.RSVP.defer(),n=Ember.get(e,"components")[0],!n)throw new Error('For module "'+Ember.get(e,"name")+'" components not found.');s.resolve(a.transitionTo("component",Ember.get(n,"name")))}catch(r){s.reject(Ember.run.next(a,function(){this.send("templateLogs",r)}))}finally{return s.promise}}},serialize:function(e){return{module:Ember.get(e,"slug")}}}),e.ComponentRoute=Ember.Route.extend({model:function(e,t){var s,n,a,r=this,i=t.params.component.component;try{s=Ember.RSVP.defer(),n=Ember.get(this.modelFor("module"),"components");for(var o=0;o<n.length;o++)if(n[o].name===i){a=n[o];break}if(!a)throw new URIError('The component "'+i+'" was not found.');Ember.$.get(Ember.get(a,"resource")).then(function(e){var n=r.controllerFor("component");if("object"===Ember.typeOf(e)&&Ember.get(e,"result.layout")){var i=e.result.layout;n.set("settings",i),n.set("selectedContext",Ember.get(t,"params.context")?Ember.get(t,"params.context.context"):"root"),s.resolve(a)}else{var o=new Error('Ресурс "'+Ember.get(a,"resource")+'" некорректен.');t.send("backgroundError",o),s.reject()}},function(e){s.reject(Ember.run.next(this,function(){t.send("templateLogs",e)}))})}catch(l){s.reject(Ember.run.next(this,function(){t.send("templateLogs",l)}))}finally{return s.promise}},redirect:function(e,t){if(t.targetName===this.routeName+".index"){var s;try{var n=this.controllerFor("component").get("settings.contents.emptyContext.redirect");s=n?Ember.get(n,"params.slug"):"root"}catch(a){t.send("backgroundError",a)}finally{return this.transitionTo("context",s)}}},serialize:function(e){return{component:Ember.get(e,"name")}},renderTemplate:function(e){if(this.render(),e.get("sideBarControl"))try{this.render(e.get("sideBarControl.name"),{into:"component",outlet:"sideBar"})}catch(t){this.send("templateLogs",t,"component")}}}),e.ContextRoute=Ember.Route.extend({model:function(e,t){var s,n,a,r;try{if(s=this.controllerFor("component"),n=s.get("dataSource"),s.set("selectedContext",e.context),"root"===e.context)a=Ember.Object.extend({}),r=new Ember.RSVP.Promise(function(e){e(a.create({id:"root",type:"base"}))});else switch(Ember.get(n,"type")){case"static":r=new Ember.RSVP.Promise(function(t,s){for(var a,r=Ember.get(n,"objects"),i=0;i<r.length;i++)if(r[i].id===e.context){a=r[i];break}a?t(a):s("Не найден объект с ID "+e.context)});break;case"collection":this.store.hasRecordForId(Ember.get(n,"name"),e.context)?(r=this.store.getById(Ember.get(n,"name"),e.context),r=r.reload()):r=this.store.find(Ember.get(n,"name"),e.context);break;default:throw new Error("Неизвестный тип dataSource компонента.")}}catch(i){Ember.run.next(this,function(){t.send("templateLogs",i)})}finally{return r}},redirect:function(e,t){if(t.targetName===this.routeName+".index"){var s,n;try{if(s=this.controllerFor("component").get("contentControls")[0],n=Ember.get(s,"id"),!n)throw new Error("Действия для данного контекста не доступны.")}catch(a){t.send("backgroundError",a)}finally{return this.transitionTo("action",n)}}},serialize:function(e){return e?{context:Ember.get(e,"id")}:void 0}}),e.ActionRoute=Ember.Route.extend({queryParams:{type:{refreshModel:!0,replace:!0}},model:function(t,s){var n,a,r,i,o,l,c,u,h,p,f=this,d={};try{if(u=Ember.RSVP.defer(),n=t.action,a=this.modelFor("context"),r=this.controllerFor("component"),i=r.get("contentControls"),o=i.findBy("id",n),l={object:a,control:o},Ember.get(o,"params.isStatic"))u.resolve(l);else{if(p=Ember.get(o,"params.action"),h=Ember.get(r,"settings.actions."+p+".source"),!h)throw new Error("Действие "+Ember.get(o,"name")+" для данного контекста недоступно.");if(h=e.Utils.replacePlaceholder(l.object,h),"createForm"===n){if(c="root"!==a.get("id")?{parent:a}:{},s.queryParams.type&&(c.type=s.queryParams.type),l.createObject=f.store.createRecord(r.get("dataSource.name"),c),!s.queryParams.type)throw new Error("Тип создаваемого объекта не был указан.");d.type=s.queryParams.type}Ember.$.get(h).then(function(t){var s,a;if("dynamic"===n){s=Ember.get(t,"result")||{};for(var r in s)s.hasOwnProperty(r)&&(a=r);s=s[a]||{},s.name=a,e.Utils.objectsMerge(l.control,s)}else Ember.set(l.control,"meta",Ember.get(t,"result."+p));u.resolve(l)})}}catch(m){u.reject(s.send("backgroundError",m))}finally{return u.promise}},serialize:function(e){return Ember.get(e,"control")?{action:Ember.get(e,"control.id")}:void 0},renderTemplate:function(e,t){try{var s=Ember.get(t,"control.name");this.render(s,{controller:e})}catch(n){this.send("templateLogs",errorObject,"component")}},setupController:function(e,t){this._super(e,t),t.createObject&&(Ember.set(t,"object",t.createObject),Ember.set(t,"createObject",null)),e.set("model",t)},actions:{willTransition:function(t){t.params.action&&"createForm"!==t.params.action.action&&this.get("controller").set("typeName",null);var s=Ember.get(this.modelFor("action"),"object");if(Ember.get(s,"isNew")&&s.deleteRecord(),Ember.get(s,"isDirty")){t.abort();var n={close:!1,title:"Изменения не были сохранены.",content:"Переход на другую страницу вызовет потерю несохраненых изменений. Остаться на странице чтобы сохранить изменения?",confirm:"Остаться на странице",reject:"Продолжить без сохранения"};return e.dialog.open(n).then(function(){},function(){s.get("isValid")||(s.set("validErrors",null),s.send("becameValid")),s.rollback(),t.retry()})}}}})}}),define("application/controllers",[],function(){return function(e){e.ApplicationController=Ember.ObjectController.extend({settings:null,modules:null}),e.ComponentController=Ember.ObjectController.extend({name:function(){return this.get("container").lookup("route:module").get("context.name")+Ember.String.capitalize(this.get("model.name"))}.property("model.name"),settings:null,dataSourceBinding:"settings.dataSource",selectedContext:null,contentControls:function(){var e=this,t=[],s=this.get("settings");try{var n,a,r="root"===this.get("selectedContext")?"emptyContext":"selectedContext",i=s.contents[r];for(n in i)i.hasOwnProperty(n)&&(a=i[n],a.id=n,a.name=n,t.push(a))}catch(o){var l={statusText:o.name,message:o.message,stack:o.stack};Ember.run.next(function(){e.send("templateLogs",l,"component")})}return t}.property("settings","selectedContext"),sideBarControl:function(){var e,t=this;try{var s=this.get("settings");if(s&&s.hasOwnProperty("sideBar")){var n,a;for(n in s.sideBar)s.sideBar.hasOwnProperty(n)&&(a=s.sideBar[n],"object"!==Ember.typeOf(a)&&(a={}),e=a,e.name=n)}}catch(r){var i={statusText:r.name,message:r.message,stack:r.stack};Ember.run.next(function(){t.send("templateLogs",i,"component")})}return e}.property("settings")}),e.ContextController=Ember.ObjectController.extend({}),e.ActionController=Ember.ObjectController.extend({queryParams:["type"],type:null})}}),define("application/views",[],function(){return function(e){e.ApplicationView=Ember.View.extend({classNames:["umi-main-view","s-full-height"],didInsertElement:function(){$("body").removeClass("loading"),window.applicationLoading&&window.applicationLoading.resolve()}}),e.ComponentView=Ember.View.extend({classNames:["umi-content","s-full-height"],filtersView:Ember.View.extend({classNames:["umi-tree-control-filters"]})})}}),define("App",["DS","Modernizr","iscroll","ckEditor","jqueryUI","elFinder","timepicker","moment","application/config","application/utils","application/i18n","application/templates.compile","application/templates.extends","application/models","application/router","application/controllers","application/views"],function(e,t,s,n,a,r,i,o,l,c,u,h,p,f,d,m,b){var v=window.UMI=window.UMI||{};return Ember.Inflector.inflector=new Ember.Inflector,v=Ember.Application.create({rootElement:"#body",Resolver:Ember.DefaultResolver.extend({resolveTemplate:function(e){return e.fullNameWithoutType="UMI/"+e.fullNameWithoutType,this._super(e)}})}),v.deferReadiness(),c(v),l(v),u(v),e.UmiRESTAdapter=e.RESTAdapter.extend({buildURL:function(e,t){var s=[],n=Ember.get(this,"host"),a=this.urlPrefix();return t&&s.push(t),a&&s.unshift(a),s=s.join("/"),!n&&s&&(s="/"+s),s},namespace:window.UmiSettings.baseApiURL.replace(/^\//g,""),ajaxOptions:function(e,t,s){s=s||{},s.url=e,s.type=t,s.dataType="json",s.context=this,s.data&&"GET"!==t&&(s.contentType="application/json; charset=utf-8",s.data=JSON.stringify(s.data));var n=this.headers;return("PUT"===t||"DELETE"===t)&&(n=n||{},n["X-HTTP-METHOD-OVERRIDE"]=t,s.type="POST"),void 0!==n&&(s.beforeSend=function(e){Ember.ArrayPolyfills.forEach.call(Ember.keys(n),function(t){e.setRequestHeader(t,n[t])})}),s},ajaxError:function(e){var t=this._super(e);if(403===t.status||401===t.status)return void v.__container__.lookup("router:main").send("logout");var s;t.hasOwnProperty("responseJSON")?t.responseJSON.hasOwnProperty("result")&&t.responseJSON.result.hasOwnProperty("error")&&(s=t.responseJSON.result.error.message):s=t.responseText;var n={close:!0,title:t.status+". "+t.statusText,content:s};v.dialog.open(n).then()}}),v.ApplicationSerializer=e.RESTSerializer.extend({extractMeta:function(e,t,s){if(s&&s.result&&s.result.meta){var n=e.metadataFor(t)||{};for(var a in s.result.meta)n[a]=s.result.meta[a];e.metaForType(t,n),delete s.result.meta}},normalizePayload:function(e){return e=e.result,e.hasOwnProperty("collection")&&(e=e.collection),e},serializeHasMany:function(t,s,n){var a=n.key,r=e.RelationshipChange.determineRelationshipType(t.constructor,n);("manyToNone"===r||"manyToMany"===r||"manyToOne"===r)&&t.relationPropertyIsDirty(a)&&(s[a]=Ember.get(t,"changedRelationshipsByName."+a))}}),v.ApplicationAdapter=e.UmiRESTAdapter,e.ManyArray.reopen({reloadLinks:function(){var e=Ember.get,t=e(this,"store"),s=e(this,"owner"),n=e(this,"name"),a=Ember.RSVP.defer(),r=s.constructor.metaForProperty(n),i=s._data.links[r.key];t.findHasMany(s,i,r,a)}}),v.ApplicationStore=e.Store.extend({updateCollection:function(e,t){function s(e,t){var s=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin);return s.create({promise:Ember.RSVP.Promise.cast(e,t)})}function n(e,t,s){return e.lookup("serializer:"+t)||e.lookup("serializer:application")||e.lookup("serializer:"+s)||e.lookup("serializer:-default")}function a(e,t){var s=e.serializer,a=e.defaultSerializer,r=e.container;return r&&void 0===s&&(s=n(r,t.typeKey,a)),(null===s||void 0===s)&&(s={extract:function(e,t,s){return s}}),s}function r(e,t){e=c.modelFor(e);var n=c.recordArrayManager.createAdapterPopulatedRecordArray(e,t),a=c.adapterFor(e);return Ember.assert("You tried to load a query but you have no adapter (for "+e+")",a),Ember.assert("You tried to load a query but your adapter does not implement `findQuery`",a.findQuery),s(i(a,c,e,t,n))}function i(e,t,s,n,r){var i=e.findQuery(t,s,n,r),o=a(e,s),l="DS: Handle Adapter#findQuery of "+s;return Ember.RSVP.Promise.cast(i,l).then(function(e){var a=Ember.get(n,"fields")||"",r=o.extract(t,s,e,null,"findQuery");Ember.assert("The response from a findQuery must be an Array, not "+Ember.inspect(r),"array"===Ember.typeOf(r)),a=a.split(","),a.push("id"),a.push("version"),a.push("meta");for(var i=0;i<r.length;i++)for(var l in r[i])r[i].hasOwnProperty(l)&&!a.contains(l)&&delete r[i][l];return r},null,"DS: Extract payload of findQuery "+s)}function o(e){return null==e?null:e+""}var l,c=this;Ember.assert("You need to pass a type to the store's find method",arguments.length>=1),Ember.assert("You may not pass `"+t+"` as id to the store's find method",1===arguments.length||!Ember.isNone(t)),l=1===arguments.length?c.findAll(e):"object"===Ember.typeOf(t)?r(e,t):c.findById(e,o(t));var u=Ember.RSVP.defer();return l.then(function(t){var s,n=[];Ember.run.later(function(){var a=function(e,t,s,n){t.push(e.update(s,n))};for(s=0;s<t.length;s++)a(c,n,e,t[s]);u.resolve(n)},700)}),s(u.promise)}}),e.StringTransform.reopen({deserialize:function(e){return Ember.isNone(e)?"":String(e)}}),v.CustomDateTransform=e.Transform.extend({deserialize:function(e){return e=Ember.isNone(e)?"":String(e),e&&(e=o(e).format("DD.MM.YYYY")),e},serialize:function(e){return e&&(e=o(e,"DD.MM.YYYY").format("YYYY-MM-DD")),e}}),v.CustomDateTimeTransform=e.Transform.extend({deserialize:function(e){return"object"===Ember.typeOf(e)&&e.date?(Ember.set(e,"date",o(e.date).format("DD.MM.YYYY h:mm:ss")),e=JSON.stringify(e)):e="",e},serialize:function(e){if(e)try{e=JSON.parse(e),e.date&&Ember.set(e,"date",o(e.date,"DD.MM.YYYY h:mm:ss").format("YYYY-MM-DD h:mm:ss"))}catch(t){t.message="Некорректное значение поля. Ожидается массив или null. "+t.message,this.get("container").lookup("route:application").send("backgroundError",t)}else e=null;return e}}),v.SerializedTransform=e.Transform.extend({deserialize:function(e){return e?("array"===Ember.typeOf(e)&&e.sort(),e=JSON.stringify(e)):e="",e},serialize:function(e){if(e)try{e=JSON.parse(e)}catch(t){t.message="Некорректное значение поля. Ожидается массив или null. "+t.message,this.get("container").lookup("route:application").send("backgroundError",t)}else e=[];return e}}),v.RawTransform=e.Transform.extend({serialize:function(e){return e},deserialize:function(e){return e}}),$.ajaxSetup({headers:{"X-Csrf-Token":window.UmiSettings.token},error:function(e){var t=v.__container__.lookup("router:main").router.activeTransition;t?t.send("backgroundError",e):v.__container__.lookup("route:application").send("backgroundError",e)}}),p(),f(v),d(v),m(v),b(v),v}),define("topBar/main",["App"],function(e){e.TopBarView=Ember.View.extend({templateName:"partials/topBar"})}),define("topBar",["topBar/main"],function(e){return e}),define("divider/view",["App"],function(e){return function(){e.DividerView=Ember.View.extend({classNames:["off-canvas-wrap","umi-divider-wrapper","s-full-height"],didInsertElement:function(){this.fakeDidInsertElement()},modelChange:function(){this.fakeDidInsertElement()}.observes("model"),fakeDidInsertElement:function(){if($(window).off("resize.divider"),$(".umi-divider-left").length){var e=!0,t=!1,s=$(".umi-divider-left").width()+1,n=function(){e||($(".umi-divider-left").hide(),$(".umi-divider-right").css({width:"100%"})),e&&!t&&($(".umi-divider-left").show(),$(".umi-divider-right").css({width:$(window).width()-s})),e&&t&&($(".umi-divider-left").show(),$(".umi-divider-right").css({width:"100%"}))};$(".umi-divider-left-toggle").mousedown(function(){e=!e,n(),$(this).children(".icon").toggleClass("icon-left").toggleClass("icon-right")});var a=function(){t=!0,$(".umi-divider-left").addClass("umi-divider-left-float"),$(".umi-divider-left .umi-divider").hide()};$("body").on("mousedown",".umi-divider",function(e){0===e.button&&($("html").addClass("s-unselectable"),$("html").mousemove(function(e){var t=e.pageX+5-3;150>t&&(t=150),t>$(window).width()-720?$(".magellan-content").find(".umi-columns").removeClass("large-4").addClass("large-12"):$(".magellan-content").find(".umi-columns").removeClass("large-12").addClass("large-4"),t>$(window).width()-320&&(t=$(window).width()-320),$(".umi-divider-left").css({width:t}),$(".umi-divider-right").css({width:$(window).width()-t-1}),$("html").on("mouseup",function(){s=t+1,$("html").off("mousemove"),$("html").removeClass("s-unselectable")})}))});var r=function(){t=!1,$(".umi-divider-left").removeClass("umi-divider-left-float"),e&&$(".umi-divider-right").css({width:$(window).width()-s}),$(".umi-divider-left .umi-divider").show()},i=function(){$(window).width()<570?(a(),$(".umi-divider-right").css({width:"100%"})):r()};i(),$(window).on("resize.divider",function(){i()})}else $(".umi-divider-left").hide(),$(".umi-divider-right").css({width:"100%"});$(".umi-component").height(function(){return $(window).height()-108}),$(window).on("resize.divider",function(){$(".umi-component").height(function(){return $(window).height()-108})})}})}}),define("divider/main",["App","./view"],function(e,t){t()}),define("divider",["divider/main"],function(e){return e}),define("dock/controllers",["App"],function(e){return function(){e.DockController=Ember.ObjectController.extend({needs:["application","module"],modulesBinding:"controllers.application.modules",activeModuleBinding:"controllers.module.model"})}}),define("dock/view",["App"],function(e){return function(){var t,s=!1,n={},a={old:0,cur:0,def:0,coeff:1};e.DockView=Ember.View.extend({templateName:"partials/dock",classNames:["umi-dock","s-unselectable"],didInsertElement:function(){var e=this,t=e.$().find(".dock")[0];t.style.left=(t.parentNode.offsetWidth-t.offsetWidth)/2+"px",$(t).addClass("active"),t.style.marginLeft||(t.style.marginLeft=0);var s,r=function(e,t){n.proccess=!0;var r=$(t.target).closest(".dropdown-menu").size(),i=e.offsetLeft,o=e.offsetWidth,l=e.parentNode.offsetWidth;a.cur=t.clientX,a.old&&(a.def=a.old-a.cur),Math.abs(i)+o>l&&!r&&(a.def>0?(a.coeff=Math.abs(i)/t.clientX,s=Math.round(parseInt(e.style.marginLeft,10)+a.def*a.coeff),a.coeff>0&&s+parseInt(e.style.left,10)<-20&&(e.style.marginLeft=s+"px")):a.def<0&&(a.coeff=Math.abs((o-l+i)/(l-t.clientX)),s=Math.round(parseInt(e.style.marginLeft,10)+a.def*a.coeff),a.coeff>0&&l<o-20+(s+parseInt(e.style.left,10))&&(e.style.marginLeft=s+"px"))),a.old=t.clientX};$(t).mousemove(function(e){n.oldtime||(n.oldtime=new Date),n.curtime=new Date,(n.curtime-n.oldtime>700||n.proccess)&&r(this,e)}),$(window).on("resize.umi.dock",function(){setTimeout(function(){t.style.left=(t.parentNode.offsetWidth-t.offsetWidth)/2+"px"},0)}),$(t).find(".f-dropdown").on("click.umi.dock.component","a",function(){e.set("closeDropdown",!0),$(t).find(".dropdown").removeClass("open"),e.leaveDock(),setTimeout(function(){e.set("closeDropdown",!1)},300)})},mouseLeave:function(e){var t=this,s=t.$().find(".dock")[0];return a.old=!1,e.relatedTarget?void this.leaveDock():void $(document.body).bind("mouseover",function(e){$(s).hasClass("full")&&!$(e.target).closest(".dock").size()&&t.leaveDock(),$(this).unbind("mouseover")})},leaveDock:function(){var e=this,t=e.$().find(".dock")[0];s=!1,n.oldtime=!1,n.proccess=!1,$(t).find("img").stop().animate({margin:"9px 11px 9px",height:30},{duration:130,easing:"linear"}),$(t).animate({marginLeft:"0px"},{duration:130,easing:"linear",complete:function(){$(t).removeClass("full")}})},willDestroyElement:function(){$(window).off("resize.umi.dock")}});var r;e.DockModuleButtonView=Ember.View.extend({tagName:"li",classNames:["umi-dock-button","dropdown"],classNameBindings:["open"],open:!1,icon:function(){return"/resources/modules/"+this.get("module.name")+"/icon.svg"}.property("module.name"),mouseEnter:function(){var e=this,a=this.$().closest(".dock"),r=this.$(),i=function(){if(e.set("open",!0),!s){s=!0,n.proccess=!1;var t=r.position().left+r[0].offsetWidth/2+(parseInt(a[0].style.marginLeft,10)||0);$(r[0].parentNode).find("img").stop().animate({height:48,margin:"8px 36px 28px"},{duration:280,step:function(e,s){this.parentNode.parentNode===r[0]&&(a[0].style.marginLeft=t-(s.elem.parentNode.parentNode.offsetLeft+s.elem.parentNode.offsetWidth/2)+"px")},complete:function(){a.addClass("full"),n.proccess=!0}})}};!t||clearTimeout(t),t=setTimeout(function(){i()},120)},mouseLeave:function(){t&&clearTimeout(t),r&&clearInterval(r),this.set("open",!1)}})}}),define("dock/main",["./controllers","./view","App"],function(e,t){e(),t()}),define("dock",["dock/main"],function(e){return e}),define("toolbar/view",["App"],function(e){return function(){e.ToolbarElementView=Ember.View.extend({tagName:"li",template:function(){var e=this,t=this.get("context.type");if(this.get(t+"View"))return Ember.Handlebars.compile("{{view view."+t+"View meta=this}}");try{throw new Error("View c типом "+t+" не зарегестрирован для toolbar контроллера")}catch(s){Ember.run.next(function(){e.get("controller").send("backgroundError",s)})}}.property(),buttonView:function(){var t=this.get("context.behaviour.name");t=t?e.buttonBehaviour.get(t)||{}:{};var s=e.ButtonView.extend(t);return s}.property(),dropdownButtonView:function(){var t=this.get("context.behaviour.name");t=t?e.dropdownButtonBehaviour.get(t)||{}:{};var s=e.DropdownButtonView.extend(t);return s}.property(),splitButtonView:function(){var t=e.SplitButtonView.extend(e.SplitButtonDefaultBehaviourForComponent),s=this.get("context.behaviour.name");return s=s?e.splitButtonBehaviour.get(s)||{}:{},t=t.extend(s)}.property()}),e.ToolbarView=Ember.View.extend({layoutName:"partials/toolbar",classNames:["s-unselectable","umi-toolbar"],elementView:e.ToolbarElementView})}}),define("partials/toolbar/buttons/globalBehaviour",["App"],function(e){return function(){e.GlobalBehaviour=Ember.Object.extend({save:{label:function(){return this.get(this.get("controller.object.isDirty")?"defaultBehaviour.attributes.label":"meta.attributes.states.notModified.label")}.property("meta.attributes.label","controller.object.isDirty","defaultBehaviour"),classNameBindings:["controller.object.isDirty::disabled","controller.object.isValid::disabled"],beforeSave:function(){var e=this.get("controller.object");if(!e.get("isDirty")||!e.get("isValid"))return!1;var t=this.$();t.addClass("loading");var s={object:e,handler:t[0]};return s},actions:{save:function(){var e=this.beforeSave();e&&this.get("controller").send("save",e)},saveAndGoBack:function(){var e=this.beforeSave();e&&this.get("controller").send("saveAndGoBack",e)}}},create:{actions:{create:function(e){var t=e.behaviour,s=e.object||this.get("controller.object");this.get("controller").send("create",{behaviour:t,object:s})}}},switchActivity:{label:function(){return this.get(this.get("controller.object.active")?"meta.attributes.states.deactivate.label":"meta.attributes.states.activate.label")}.property("meta.attributes.label","controller.object.active"),classNameBindings:["controller.object.active::umi-disabled"],actions:{switchActivity:function(e){e=e||{};var t=e.object||this.get("controller.object");this.get("controller").send("switchActivity",t)}}},backToFilter:{actions:{backToFilter:function(){this.get("controller").send("backToFilter")}}},trash:{actions:{trash:function(e){e=e||{};var t=e.object||this.get("controller.object");this.get("controller").send("trash",t)}}},"delete":{actions:{"delete":function(e){e=e||{};var t=e.object||this.get("controller.object");this.get("controller").send("delete",t)}}},viewOnSite:{actions:{viewOnSite:function(e){e=e||{};var t=e.object||this.get("controller.object");this.get("controller").send("viewOnSite",t)}}},edit:{actions:{edit:function(e){e=e||{};var t=e.object||this.get("controller.object");this.get("controller").send("edit",t)}}},add:{classNameBindings:["controller.object.isValid::disabled"],beforeAdd:function(e){e=e||{};
var t=e.object||this.get("controller.object");if(!t.get("isValid"))return!1;var s=this.$();s.addClass("loading");var e={object:t,handler:s[0]};return e},actions:{add:function(e){e=e||{};var t=this.beforeAdd(e.object);t&&this.get("controller").send("add",t)},addAndGoBack:function(){var e=this.beforeAdd();e&&this.get("controller").send("addAndGoBack",e)},addAndCreate:function(){var e=this.beforeAdd();e&&this.get("controller").send("addAndCreate",e)}}}})}}),define("partials/toolbar/buttons/button/main",["App"],function(e){return function(){e.ButtonView=Ember.View.extend({label:function(){return this.get("meta.attributes.label")}.property("meta.attributes.label"),templateName:"partials/button",tagName:"a",classNameBindings:"meta.attributes.class",attributeBindings:["title"],title:Ember.computed.alias("meta.attributes.title"),click:function(){var e=this.get("meta").behaviour,t={behaviour:e};this.send(e.name,t)}}),e.buttonBehaviour=e.GlobalBehaviour.extend({}).create({})}}),define("partials/toolbar/buttons/dropdownButton/main",["App","moment"],function(e,t){return function(){e.DropdownButtonView=Ember.View.extend({template:Ember.TEMPLATES["UMI/partials/dropdownButton"],tagName:"a",classNameBindings:"meta.attributes.class",attributeBindings:["title"],title:Ember.computed.alias("meta.attributes.title"),didInsertElement:function(){var e=this.$();e.on("click.umi.dropdown",function(e){if(!$(e.target).closest(".f-dropdown").length){e.stopPropagation();var t=$(this);t.toggleClass("open"),setTimeout(function(){t.hasClass("open")&&$("body").on("click.umi.dropdown.close",function(e){e.stopPropagation();var s=$(e.target).closest(".dropdown");s.length&&s[0].getAttribute("id")===t[0].getAttribute("id")||($("body").off("click.umi.dropdown.close"),t.toggleClass("open"))})},0)}})},willDestroyElement:function(){var e=this.$();e.off("click.umi.dropdown")},actions:{sendActionForBehaviour:function(e){this.send(e.name,{behaviour:e})}}}),e.dropdownButtonBehaviour=e.GlobalBehaviour.extend({backupList:{classNames:["dropdown","coupled"],classNameBindings:["isOpen:open"],isOpen:!1,iScroll:null,tagName:"div",templateName:"partials/dropdownButton/backupList",getBackupList:function(){var t,s=this.get("controller.object"),n=this.get("controller.settings"),a=e.Utils.replacePlaceholder(s,n.actions.getBackupList.source),r={objectId:s.get("id"),date:s.get("updated"),user:null,id:"current",current:!0,isActive:!0},i=[r],o=DS.PromiseArray.create({promise:$.get(a).then(function(e){return i.concat(e.result.getBackupList.serviceBackup)})});return t=Ember.ArrayProxy.create({content:o})},backupList:null,actions:{open:function(){var e=this,t=this.$();this.toggleProperty("isOpen"),this.get("isOpen")&&setTimeout(function(){$("body").on("click.umi.controlDropUp",function(s){var n=$(s.target).closest(".umi-dropup");n.length&&n[0].parentNode.getAttribute("id")===t[0].getAttribute("id")||($("body").off("click.umi.controlDropUp"),e.set("isOpen",!1))}),e.get("iScroll")&&e.get("iScroll").refresh()},0)},applyBackup:function(s){if(!s.isActive){var n,a=this,r=this.get("controller.object"),i=a.get("backupList"),o=i.findBy("id",s.id),l=function(){i.setEach("isActive",!1),Ember.set(o,"isActive",!0)};s.current?(r.rollback(),l()):(n=e.Utils.replacePlaceholder(o,Ember.get(a.get("controller.settings"),"actions.getBackup.source")),$.get(n).then(function(e){r.rollback(),delete e.result.getBackup.version,delete e.result.getBackup.id,a.get("controller.store").modelFor(r.constructor.typeKey).eachTransformedAttribute(function(s,n){"CustomDateTime"===n&&e.result.getBackup.hasOwnProperty(s)&&"object"===Ember.typeOf(e.result.getBackup[s])&&(Ember.set(e.result.getBackup[s],"date",t(e.result.getBackup[s].date).format("DD.MM.YYYY h:mm:ss")),e.result.getBackup[s]=JSON.stringify(e.result.getBackup[s]))}),r.setProperties(e.result.getBackup),l()}))}}},didInsertElement:function(){var t,s=this.$(),n=s.find(".s-scroll-wrap");n.length&&(t=new IScroll(n[0],e.config.iScroll)),this.set("iScroll",t);var a=this;a.set("backupList",a.getBackupList()),a.get("controller.object").off("didUpdate"),a.get("controller.object").on("didUpdate",function(){a.set("backupList",a.getBackupList())}),a.get("controller").addObserver("object",function(){a.set("backupList",a.getBackupList())})},willDestroyElement:function(){this.get("controller").removeObserver("content.object")}}}).create({})}}),define("partials/toolbar/buttons/splitButton/main",["App"],function(e){return function(){e.SplitButtonDefaultBehaviour=Ember.Mixin.create({pathInLocalStorage:function(){var e=this.get("meta")||{behaviour:{}};return"layout.defaultBehaviour."+e.type+"."+e.behaviour.name}.property(),defaultBehaviourIndex:0,defaultBehaviour:function(){var e=this.get("defaultBehaviourIndex"),t=this.get("meta")||{behaviour:{choices:[]}};return t.behaviour.choices[e]?t.behaviour.choices[e]:void this.set("defaultBehaviourIndex",0)}.property("defaultBehaviourIndex"),defaultBehaviourIcon:function(){return this.get("defaultBehaviour")?"icon-"+this.get("defaultBehaviour.behaviour.name"):void 0}.property("defaultBehaviour"),actions:{toggleDefaultBehaviour:function(t){this.get("defaultBehaviourIndex")!==t&&(this.set("defaultBehaviourIndex",t),e.Utils.LS.set(this.get("pathInLocalStorage"),t))}},init:function(){this._super(),this.set("defaultBehaviourIndex",e.Utils.LS.get(this.get("pathInLocalStorage"))||0)}}),e.SplitButtonDefaultBehaviourForComponent=Ember.Mixin.create({pathInLocalStorage:function(){var e=this.get("controller.componentName"),t=this.get("meta")||{behaviour:{}};return"layout.defaultBehaviour."+t.type+"."+t.behaviour.name+"."+e}.property("controller.componentName")});var t=Ember.Object.create({defaultBehaviourIndex:0});e.SplitButtonSharedSettingsBehaviour=Ember.Mixin.create({containerSettings:t,defaultBehaviourIndex:Ember.computed.alias("containerSettings.defaultBehaviourIndex")}),e.SplitButtonView=Ember.View.extend(e.SplitButtonDefaultBehaviour,{templateName:"partials/splitButton",tagName:"span",isOpen:!1,classNameBindings:["meta.attributes.class","isOpen:open"],attributeBindings:["title"],label:function(){return this.get("meta.attributes.label")}.property("meta.attributes.label"),title:Ember.computed.alias("meta.attributes.title"),click:function(e){var t=this.$();(e.target.getAttribute("id")===t[0].getAttribute("id")||($(e.target).hasClass("icon")||$(e.target).hasClass("button-label"))&&e.target.parentElement.getAttribute("id")===t[0].getAttribute("id"))&&this.send("sendActionForBehaviour",this.get("defaultBehaviour").behaviour)},actions:{open:function(){var e=this,t=e.$();setTimeout(function(){e.toggleProperty("isOpen"),e.get("isOpen")&&$("html").on("click.splitButton",function(s){if(t.children(".dropdown-toggler")[0]!==s.target){var n=$(s.target).closest(".f-dropdown");n.length&&n[0].parentNode.getAttribute("id")===t[0].getAttribute("id")||($("html").off("click.splitButton"),e.set("isOpen",!1))}})},0)},sendActionForBehaviour:function(e){this.send(e.name,{behaviour:e})}},itemView:Ember.View.extend({tagName:"li",label:function(){return this.get("context.attributes.label")}.property("context.attributes.label"),isDefaultBehaviour:function(){var e=this.get("parentView.defaultBehaviourIndex");return e===this.get("_parentView.contentIndex")}.property("parentView.defaultBehaviourIndex")})}),e.splitButtonBehaviour=e.GlobalBehaviour.extend({dropUp:{classNames:["split-dropup"]},contextMenu:{itemView:function(){var e=Ember.View.extend({tagName:"li",label:function(){return this.get("context.attributes.label")}.property("context.attributes.label"),isDefaultBehaviour:function(){var e=this.get("parentView.defaultBehaviourIndex");return e===this.get("_parentView.contentIndex")}.property("parentView.defaultBehaviourIndex"),init:function(){this._super();var e=this.get("context");"switchActivity"===Ember.get(e,"behaviour.name")&&this.reopen({label:function(){return this.get(this.get("controller.object.active")?"context.attributes.states.deactivate.label":"context.attributes.states.activate.label")}.property("context.attributes.label","controller.object.active")})}});return e}.property()}}).create({})}}),define("toolbar/buttons/main",["partials/toolbar/buttons/globalBehaviour","partials/toolbar/buttons/button/main","partials/toolbar/buttons/dropdownButton/main","partials/toolbar/buttons/splitButton/main"],function(e,t,s,n){return function(){e(),t(),s(),n()}}),define("toolbar/main",["App","./view","./buttons/main"],function(e,t,s){s(),t()}),define("toolbar",["toolbar/main"],function(e){return e}),define("tableControl/controllers",["App"],function(e){return function(){e.TableControlController=Ember.ObjectController.extend(e.i18nInterface,{componentNameBinding:"controllers.component.name",collectionNameBinding:"controllers.component.dataSource.name",dictionaryNamespace:"tableControl",localDictionary:function(){var e=this.get("control")||{};return e.i18n}.property(),objects:null,objectChange:function(){Ember.run.once(this,"updateObjectDeleted")}.observes("objects.@each.isDeleted"),updateObjectDeleted:function(){var e=this.get("objects");e.forEach(function(t){t&&t.get("isDeleted")&&e.get("content.content.content").removeObject(t)})},getObjects:function(){var e=this,t=this.get("query")||{},s=e.get("collectionName"),n=e.store.find(s,t),a=this.get("orderByProperty"),r=a&&a.property?a.property:"id",i=a&&"direction"in a?a.direction:!0,o=Ember.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:n,sortProperties:[r],sortAscending:i});this.set("objects",o)},limit:25,offset:0,total:0,orderByProperty:null,order:function(){var e=this.get("orderByProperty");if(e){var t={};return t[e.property]=e.direction?"ASC":"DESC",t}}.property("orderByProperty"),nativeFieldsList:null,nativeFields:function(){var e=this.get("nativeFieldsList");return"array"===Ember.typeOf(e)&&e.length?e=e.join(","):void 0}.property("nativeFieldsList"),relatedFieldsList:null,relatedFields:function(){var e=this.get("relatedFieldsList");return"object"===Ember.typeOf(e)&&"{}"!==JSON.stringify(e)?e:void 0}.property("relatedFieldsList"),filterParams:null,filters:function(){var e={},t=this.get("filterParams")||{};for(var s in t)t.hasOwnProperty(s)&&("string"!==Ember.typeOf(t[s])||t[s].length?e[s]="like("+t[s]+"%)":delete e[s]);return e}.property("filterParams.@each"),setFilters:function(e,t){this.propertyWillChange("filterParams"),this.set("filterParams",null);var s={};s[e]=t,this.set("filterParams",s),this.propertyDidChange("filterParams")},query:function(){var e={},t=this.get("nativeFields"),s=this.get("relatedFields"),n=this.get("limit"),a=this.get("filters"),r=this.get("offset"),i=this.get("order");return t&&(e.fields=t),s&&(e["with"]=s),n&&(e.limit=n),a&&(e.filters=a),r&&(e.offset=r*n),i&&(e.orderBy=i),e}.property("limit","filters","offset","order","nativeFields","relatedFields"),contextChanged:function(){var e,t=this.get("store"),s=this.get("collectionName"),n=t.metadataFor(s),a=t.modelFor(s),r=this.get("control.meta.form.elements")||[],i=this.get("control.meta.defaultFields")||[];for(e=0;e<r.length;e++)i.contains(r[e].dataSource)||(r.splice(e,1),--e);var o=[],l={};a.eachAttribute(function(e){var t=r.findBy("dataSource",e);t?o.push(t.dataSource):"active"===e&&o.push("active")}),a.eachRelationship(function(e,t){var s,n;if("belongsTo"===t.kind)for(s=0;s<r.length;s++)n=r[s].dataSource,n===e?l[e]=l[e]||[]:0===n.indexOf(e+".",0)&&(l[e]=l[e]||[],l[e].push(n.slice(e.length+1)));else if("hasMany"===t.kind||"manyToMany"===t.kind)for(s=0;s<r.length;s++)n=r[s].dataSource,(n===e||0===n.indexOf(e+".",0))&&(r.splice(s,1),--s);l[e]&&(l[e]=l[e].join(","))}),this.set("withoutChangeQuery",!0),this.setProperties({nativeFieldsList:o,relatedFieldsList:l,offset:0,orderByProperty:null,total:0}),this.set("withoutChangeQuery",!1),this.getObjects(),Ember.run.next(this,function(){var e=this;this.get("objects.content").then(function(){e.set("total",n.total)})})}.observes("content.object.id").on("init"),queryChanged:function(){this.get("withoutChangeQuery")||Ember.run.once(this,"getObjects")}.observes("query"),contextToolbar:function(){var e=this.get("control")||{};return e.contextToolbar}.property("model"),toolbar:function(){var e=this.get("control")||{};return e.toolbar||[]}.property("model"),actions:{orderByProperty:function(e,t){this.set("orderByProperty",{property:e,direction:t})}},needs:["component"],itemController:"tableControlContextToolbarItem"}),e.TableControlContextToolbarItemController=Ember.ObjectController.extend({objectBinding:"content",componentNameBinding:"parentController.componentName"})}}),define("tableControl/view",["App","toolbar"],function(e){return function(){e.TableControlView=Ember.View.extend({componentNameBinding:"controller.controllers.component.name",templateName:"partials/tableControl",classNames:["umi-table-control"],iScroll:null,scrollUpdate:function(){var e=this,t=this.$(),s=this.get("controller.objects.content"),n=this.get("iScroll"),a=function(){Ember.run.scheduleOnce("afterRender",e,function(){var e=t.find(".umi-table-control-content-fixed-right")[0],s=t.find(".umi-table-control-header-center")[0];e.style.marginTop=0,s.style.marginLeft=0,setTimeout(function(){n.refresh(),n.scrollTo(0,0)},0)})};s&&n&&s.then(function(){a()})}.observes("controller.objects").on("didInsertElement"),didInsertElement:function(){var t=this.$(),s=this,n=this.get("controller.objects.content"),a=t.find(".umi-table-control-content-fixed-right")[0],r=t.find(".umi-table-control-header-center")[0],i=t.find(".umi-table-control-content-row-size")[0];if(n){var o=t.find(".s-scroll-wrap");n.then(function(n){n.content.length&&Ember.run.scheduleOnce("afterRender",s,function(){var n=new IScroll(o[0],e.config.iScroll);s.set("iScroll",n),n.on("scroll",function(){a.style.marginTop=this.y+"px",r.style.marginLeft=this.x+"px"}),$(window).on("resize.umi.tableControl",function(){setTimeout(function(){a.style.marginTop=n.y+"px",r.style.marginLeft=n.x+"px"},100)}),t.on("mousedown.umi.tableControl",".umi-table-control-column-resizer",function(){$("html").addClass("s-unselectable");var e=this;$(e).addClass("on-resize");var t=e.parentNode.parentNode,s=t.className;s=s.substr(s.indexOf("column-id-"));var a,o=$(t).offset().left,l=i.querySelector("."+s);$("body").on("mousemove.umi.tableControl",function(e){e.stopPropagation(),a=e.pageX-o,a>=60&&t.offsetWidth>59&&(t.style.width=l.style.width=a+"px")}),$("body").on("mouseup.umi.tableControl",function(){$("html").removeClass("s-unselectable"),$(e).removeClass("on-resize"),$("body").off("mousemove"),$("body").off("mouseup.umi.tableControl"),n.refresh(),r.style.marginLeft=n.x+"px"})});var l=function(e){for(var t=$(e).hasClass("umi-table-control-content-row"),s=e.parentNode.querySelectorAll(t?".umi-table-control-content-row":".umi-table-control-column-fixed-cell"),n=0;n<s.length&&s[n]!==e;n++);var r=a.querySelectorAll(".umi-table-control-column-fixed-cell");return t||(e=o[0].querySelectorAll(".umi-table-control-content-row")[n]),[e,r[n]]};t.on("mouseenter.umi.tableControl",".umi-table-control-content-row, .umi-table-control-column-fixed-cell",function(){var e=l(this);$(e).addClass("hover")}),t.on("mouseleave.umi.tableControl",".umi-table-control-content-row, .umi-table-control-column-fixed-cell",function(){var e=l(this);$(e).removeClass("hover")})})})}},willDestroyElement:function(){$(window).off(".umi.tableControl"),this.get("controller").removeObserver("content.object.id"),this.get("controller").removeObserver("query"),this.get("controller").removeObserver("objects.@each.isDeleted")},paginationView:Ember.View.extend({classNames:["right","umi-table-control-pagination"],counter:function(){var e="из",t=this.get("controller.limit"),s=this.get("controller.offset")+1,n=this.get("controller.total"),a=s*t,r=a-t+1;return a=n>a?a:n,r+"-"+a+" "+e+" "+n}.property("controller.limit","controller.offset","controller.total"),prevButtonView:Ember.View.extend({classNames:["button","secondary","tiny"],classNameBindings:["isActive::disabled"],isActive:function(){return this.get("controller.offset")}.property("controller.offset"),click:function(){this.get("isActive")&&this.get("controller").decrementProperty("offset")}}),nextButtonView:Ember.View.extend({classNames:["button","secondary","tiny"],classNameBindings:["isActive::disabled"],isActive:function(){var e=this.get("controller.limit"),t=this.get("controller.offset")+1,s=this.get("controller.total");return s>e*t}.property("controller.limit","controller.offset","controller.total"),click:function(){this.get("isActive")&&this.get("controller").incrementProperty("offset")}}),limitView:Ember.View.extend({tagName:"input",classNames:["s-margin-clear"],attributeBindings:["value","type"],value:function(){return this.get("controller.limit")}.property("controller.limit"),type:"text",keyDown:function(e){13===e.keyCode&&this.get("controller").setProperties({offset:0,limit:this.$()[0].value})}})}),sortHandlerView:Ember.View.extend({classNames:["button","flat","tiny","square","sort-handler"],classNameBindings:["isActive:active"],sortAscending:!0,isActive:function(){var e=this.get("controller.orderByProperty");return e?this.get("propertyName")===e.property:void 0}.property("controller.orderByProperty"),click:function(){var e=this.get("propertyName");$(".umi-table-control-header-cell .icon-top-thin:not(.active)").removeClass("icon-top-thin").addClass("icon-bottom-thin"),this.get("isActive")&&this.toggleProperty("sortAscending");var t=this.get("sortAscending");this.get("controller").send("orderByProperty",e,t)}}),rowView:Ember.View.extend({tagName:"tr",classNames:["umi-table-control-content-row"],classNameBindings:["object.type","isActive::umi-inactive"],isActive:function(){var e=this.get("object"),t=!1;return e.eachAttribute(function(e){"active"===e&&(t=!0)}),t?e.get("active"):!0}.property("object.active"),attributeBindings:["objectId"],objectIdBinding:"object.id",click:function(){this.get("object.meta.editLink")&&this.get("controller").transitionToRoute(this.get("object.meta.editLink").replace("/admin",""))}}),filterRowView:Ember.View.extend({filterType:null,template:function(){var e=this.get("column"),t="";switch(Ember.get(e,"attributes.type")){case"text":this.set("filterType","text"),t='<input type="text" class="table-control-filter-input"/>'}return Ember.Handlebars.compile(t)}.property("column"),didInsertElement:function(){var e=this,t=this.$(),s=t.children("input"),n=this.get("filterType");switch(s.on("focus",function(){$(this).closest(".umi-table-control-row").find(".table-control-filter-input").val("")}),n){case"text":s.on("keypress.umi.tableControl.filters",function(t){13===t.keyCode&&e.setFilter(this.value)})}},setFilter:function(e){this.get("controller").setFilters(this.get("column.dataSource"),e)}})}),e.TableCellContentView=Ember.View.extend({classNames:["umi-table-control-content-cell-div"],classNameBindings:["columnId"],promise:null,template:function(){function t(t){return t="null"===Ember.typeOf(t)?"":e.Utils.htmlEncode(t)}var s,n,a,r,i="",o=this;try{switch(n=this.get("object"),s=this.get("column"),s.type){case"checkbox":i='<span {{bind-attr class="view.object.'+s.dataSource+':umi-checkbox-state-checked:umi-checkbox-state-unchecked"}}></span>&nbsp;';break;case"checkboxGroup":case"multiSelect":a=n.get(s.dataSource),"array"===Ember.typeOf(a)&&(i=a.join(", "));break;case"datetime":if(a=n.get(s.dataSource))try{a=JSON.parse(a),i=Ember.get(a,"date")}catch(l){this.get("controller").send("backgroundError",l)}break;default:r=s.dataSource.split("."),this.checkRelation(r[0])?r.length>1?(a=n.get(r[0]),"instance"===Ember.typeOf(a)&&(a.then(function(e){a=e.get(r[1]),a=t(a),o.set("promiseProperty",a)}),i="{{view.promiseProperty}}")):i="{{view.object."+s.dataSource+".displayName}}":(a=n.get(s.dataSource),a=t(a),i=a)}}catch(l){this.get("controller").send("backgroundError",l)}finally{return Ember.Handlebars.compile(i)}}.property("column"),checkRelation:function(e){var t=this.get("object"),s=!1;return t.eachRelationship(function(t){e===t&&(s=!0)}),s}}),e.TableControlContextToolbarView=Ember.View.extend({tagName:"ul",classNames:["button-group","table-context-toolbar"],elementView:e.ToolbarElementView.extend({splitButtonView:function(){var t,s,n,a=e.SplitButtonView.extend(e.SplitButtonDefaultBehaviourForComponent,e.SplitButtonSharedSettingsBehaviour),r=this.get("context.behaviour.name");t=r?e.splitButtonBehaviour.get(r)||{}:{};var i=this.get("context.behaviour.choices");if("contextMenu"===r&&"array"===Ember.typeOf(i))for(s=0;s<i.length;s++){var o="",l=e.splitButtonBehaviour.get(i[s].behaviour.name);l.hasOwnProperty("_actions")&&(o="_"),n=l[o+"actions"][i[s].behaviour.name],n&&("object"!==Ember.typeOf(t.actions)&&(t.actions={}),t.actions[i[s].behaviour.name]=n)}return t.classNames=["white square"],a=a.extend(t)}.property()})})}}),define("tableControl/main",["./controllers","./view","App"],function(e,t){e(),t()}),define("tableControl",["tableControl/main"],function(e){return e}),define("fileManager/main",["App"],function(e){e.FileManagerView=Ember.View.extend({tagName:"div",classNames:["umi-file-manager s-full-height"],layout:Ember.Handlebars.compile('<div id="elfinder"></div>'),didInsertElement:function(){var e=this;$("#elfinder").elfinder({url:"/admin/rest/files/manager/action/connector",lang:"ru",getFileCallback:function(t){var s={};s.fileInfo=t,e.set("parentView.contentParams",s),$(".umi-popup").remove()},uiOptions:{toolbar:[["back","forward"],["reload"],["getfile"],["mkdir","mkfile","upload"],["download"],["copy","cut","paste"],["rm"],["duplicate","rename","edit"],["view"],["help"]]}}).elfinder("instance"),$(".elfinder-navbar").on("mousedown.umi.fileManager",".elfinder-navbar-div",function(){$(".elfinder-navbar").children().removeClass("ui-state-active"),$(this).addClass("ui-state-active")})},willDestroyElement:function(){$(window).off(".umi.fileManager")}})}),define("fileManager",["fileManager/main"],function(e){return e}),define("treeSimple/main",["App"],function(e){e.TreeSimpleView=Ember.View.extend({classNames:["row","s-full-height"],templateName:"partials/treeSimple/list"}),e.TreeSimpleItemView=Ember.View.extend({tagName:"li",templateName:"partials/treeSimple/item",isExpanded:!0,checkExpanded:function(){var e=this.get("controller.target.router.state.params");e&&"settings.component"in e&&e["settings.component"].component===this.get("context.name")&&this.set("isExpanded",!0)},nestedSlug:function(){var e="";return".TreeSimpleItemView"===this.get("parentView").constructor.toString()&&(e=this.get("parentView").get("context.name")+"."),e+=this.get("context.name")}.property(),actions:{expanded:function(){this.toggleProperty("isExpanded")}}})}),define("treeSimple",["treeSimple/main"],function(e){return e}),define("tree/controllers",["App"],function(e){return function(){e.TreeControlController=Ember.ObjectController.extend({needs:["component","context"],objectProperties:function(){var e=["displayName","order","active","childCount","children","parent"],t=this.get("collectionName"),s=this.get("store").modelFor(t),n=Ember.get(s,"fields");n=n.keys.list;for(var a=0;a<e.length;a++)n.contains(e[a])||(e.splice(a,1),--a);return e}.property("model"),expandedBranches:[],collectionNameBinding:"controllers.component.dataSource.name",clearExpanded:function(){this.set("expandedBranches",[])}.observes("collectionName"),setExpandedBranches:function(){var e=this.get("expandedBranches"),t=this.get("activeContext");if(t&&"tree"===this.get("controllers.component.sideBarControl.name")){var s=[];"root"!==t.get("id")&&t.get("mpath")&&(s=t.get("mpath").without(parseFloat(t.get("id")))||[]),s.push("root"),this.set("expandedBranches",e.concat(s).uniq())}},activeContextChange:function(){Ember.run.next(this,"setExpandedBranches")}.observes("activeContext").on("init"),root:function(){var e=this.get("collectionName"),t=this.get("controllers.component.sideBarControl");if(t){var s=this,n=Ember.Object.extend({displayName:"object"===Ember.typeOf(t.params)?t.params.rootNodeName:"",root:!0,hasChildren:!0,id:"root",active:!0,type:"base",typeKey:e,childCount:function(){return this.get("children.length")}.property("children.length"),children:function(){var t,n;try{if(!e)throw new Error("Collection name is not defined.");n=s.get("objectProperties").join(",");var a=s.store.updateCollection(e,{"filters[parent]":"null()",fields:n});t=Ember.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["order","id"],sortAscending:!0})}catch(r){var i={statusText:r.name,message:r.message,stack:r.stack};Ember.run.next(s,function(){this.send("templateLogs",i,"component")})}return t}.property(),updateChildren:function(e,t){var n=this,a=s.get("collectionName"),r=s.store.find(a,e);r.then(function(e){n.get("children.content").then(function(s){"root"===t?s.pushObject(e):s.removeObject(e)})})}}),a=n.create({});return[a]}}.property("root.childCount","model"),rootChildren:null,activeContext:function(){return this.get("controllers.context.model")}.property("controllers.context.model"),contextToolbar:function(){var e=this.get("controllers.component.sideBarControl")||{};return Ember.get(e,"contextToolbar")}.property("controllers.component.sideBarControl.contextToolbar"),actions:{updateSortOrder:function(e,t,s,n){var a,r,i,o,l,c=this,u=this.get("collectionName"),h=n||[],p={},f=this.store.all(u);i=f.findBy("id",e),p.object={id:i.get("id"),version:i.get("version")},l=i.get("parent.id")||"root",t&&"root"!==t&&(o=f.findBy("id",t),p.branch={id:o.get("id"),version:o.get("version")}),s&&(r=f.findBy("id",s),p.sibling={id:r.get("id"),version:r.get("version")}),a=this.get("controllers.component.settings.actions.move.source"),$.ajax({type:"POST",url:a,data:JSON.stringify(p),dataType:"json",contentType:"application/json"}).then(function(){h.push(e);var s=[];t!==l&&(t&&"root"!==t&&(h.push(t),s.push(t)),l&&"root"!==l&&(h.push(l),s.push(l))),c.store.findByIds(u,h).then(function(n){n.invoke("reload");for(var a,r=[],i=0;i<s.length;i++)a=f.findBy("id",s[i]),a.get("children").then(function(e){r.push(e.reloadLinks())});t===l||"root"!==t&&"root"!==l||c.get("root")[0].updateChildren(e,t)})},function(e){c.send("backgroundError",e)})}}})}}),define("tree/views",["App","toolbar"],function(e){return function(){e.TreeControlView=Ember.View.extend({templateName:"partials/treeControl",classNames:["row","s-full-height"],expandedBranchesChange:function(){for(var e=this.get("controller.expandedBranches"),t=0;t<e.length;t++)this.send("expandItem",e[t])}.observes("controller.expandedBranches"),actions:{expandItem:function(e){if(this.$()){var t=this.$().find("[data-id="+e+"]");t.length&&(t=Ember.View.views[t[0].id],t&&!t.get("isExpanded")&&t.set("isExpanded",!0))}}},didInsertElement:function(){var t=this.$().find(".umi-tree-wrapper")[0];new IScroll(t,e.config.iScroll);var s,n=this,a=function(e,t){function s(e,t){t=t.toUpperCase();for(var s=e.nextElementSibling;s&&s.tagName!==t;)s=s.nextElementSibling;return s}var a=t.parentNode.parentNode,r=document.createElement("li"),i=document.createElement("span"),o=2;$("html").addClass("s-unselectable"),n.$().addClass("drag-inside"),r.className="umi-tree-placeholder",r.setAttribute("data-id",t.parentNode.parentNode.getAttribute("data-id")),$(a).addClass("hide"),r=a.parentNode.insertBefore(r,a),i.className="umi-tree-ghost",i.innerHTML='<i class="'+t.className+'"></i>'+$(t.parentNode).children("a").text(),i=document.body.appendChild(i);var l=function(e){i.style.top=e.pageY+o+"px",i.style.left=e.pageX+o+"px"};l(e);var c;$(document).on("mousemove","body, .umi-tree-ghost",function(e){c&&clearTimeout(c),l(e);var t,n,a,i,o=document.elementFromPoint(e.clientX,e.clientY),u=function(e){var t=Ember.View.views[e.id];t.get("controller.model.childCount")&&t.set("isExpanded",!0)};if($(o).closest(".umi-tree").length&&(n=$(o).closest("li")[0],n&&n!==r&&"root"!==n.getAttribute("data-id")))if(a=n.offsetHeight,i=n.getBoundingClientRect().top,e.clientY>i+parseInt(.7*a,10))r=r.parentNode.removeChild(r),t=s(n,"li"),r=t?n.parentNode.insertBefore(r,t):n.parentNode.appendChild(r);else if(e.clientY<i+parseInt(.3*a,10))r=r.parentNode.removeChild(r),r=n.parentNode.insertBefore(r,n);else{var h=document.createElement("ul");h.className="umi-tree-list",h.setAttribute("data-parent-id",n.getAttribute("data-id")),r=r.parentNode.removeChild(r),r=h.appendChild(r),h=n.appendChild(h),c=setTimeout(function(){u(n)},500)}}),$(document).on("mouseup",function(e){var t=document.elementFromPoint(e.clientX,e.clientY),s=null,o=$(t).closest(".umi-tree-list")[0];if($(document).off("mousemove","body, .umi-tree-ghost"),$(document).off("mouseup"),i.parentNode.removeChild(i),o&&!$(o).hasClass("umi-tree")){!function u(e){var t=e.previousElementSibling;t&&($(t).hasClass("hide")||"LI"!==t.tagName)?u(t):s=t?t.getAttribute("data-id"):null}(r);var l=[];!function h(e){var t=e.nextElementSibling;t&&($(t).hasClass("hide")||"LI"!==t.tagName?h(t):l.push(t.getAttribute("data-id")))}(r);var c=o.getAttribute("data-parent-id");n.get("controller").send("updateSortOrder",r.getAttribute("data-id"),c,s,l),n.send("expandItem",c)}r.parentNode&&r.parentNode.removeChild(r),$(a).removeClass("hide"),$("html").removeClass("s-unselectable")})};this.$().on("mousedown",".icon.move",function(e){if(1===e.originalEvent.which){var t=this;s=setTimeout(function(){a(e,t)},200)}}),this.$().on("mouseup",".icon.move",function(){s&&clearTimeout(s)})},willDestroyElement:function(){this.get("controller").removeObserver("collectionName"),this.get("controller").removeObserver("activeContext"),this.get("controller").removeObserver("objects.@each.isDeleted"),this.removeObserver("controller.expandedBranches")}}),e.TreeItemView=Ember.View.extend({treeControlView:null,templateName:"partials/treeControl/treeItem",tagName:"li",classNameBindings:["item.isDragged:hide","item.isDeleted:hide"],attributeBindings:["dataId:data-id"],editLink:function(){var e=this.get("item.meta.editLink");return e}.property("item"),dataId:function(){return this.get("item.id")}.property("item.id"),inActive:function(){return!this.get("item.active")}.property("item.active"),active:function(){return this.get("controller.activeContext.id")===this.get("item.id")}.property("controller.activeContext.id"),savedDisplayName:function(){return this.get("root"===this.get("item.id")?"item.displayName":"item._data.displayName")}.property("item.currentState.loaded.saved"),expandActiveContext:function(){Ember.run.once(this,function(){var e=this.get("controller.expandedBranches")||[];if(e){if("root"===this.get("item.id"))return this.set("isExpanded",!0);var t=e.contains(parseFloat(this.get("item.id")));if(t)return this.set("isExpanded",!0)}})},actions:{expanded:function(){var e=this.get("item.id");e="root"===e?e:parseFloat(e);var t=this.get("controller"),s=t.get("expandedBranches");this.set("isExpanded",!this.get("isExpanded")),this.get("isExpanded")?s.push(e):s=s.without(e),t.set("expandedBranches",s)}},getChildren:function(){var e,t=this.get("item"),s=t.get("typeKey")||t.constructor.typeKey;return e="root"===t.get("id")?t.get("children"):this.get("controller").store.updateCollection(s,{"filters[parent]":t.get("id"),fields:"displayName,order,active,childCount,children,parent"}),Ember.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:e,sortProperties:["order","id"],sortAscending:!0})},sortedChildren:function(){return this.getChildren()}.property("item.didUpdate"),init:function(){this._super();var e=this;"needReloadHasMany"in this.get("item")&&this.get("item").on("needReloadHasMany",function(){e.get("children").then(function(e){e.reloadLinks()})})},didInsertElement:function(){Ember.run.once(this,"expandActiveContext")}}),e.TreeControlContextToolbarController=Ember.ObjectController.extend({}),e.TreeControlContextToolbarView=Ember.View.extend({tagName:"ul",classNames:["button-group","umi-tree-context-toolbar","right"],elementView:e.ToolbarElementView.extend({splitButtonView:function(){var t,s,n,a=e.SplitButtonView.extend(e.SplitButtonDefaultBehaviourForComponent,e.SplitButtonSharedSettingsBehaviour),r=this.get("context.behaviour.name");t=r?e.splitButtonBehaviour.get(r)||{}:{};
var i=this.get("context.behaviour.choices");if("contextMenu"===r&&"array"===Ember.typeOf(i))for(s=0;s<i.length;s++){var o="",l=e.splitButtonBehaviour.get(i[s].behaviour.name);l.hasOwnProperty("_actions")&&(o="_"),n=l[o+"actions"][i[s].behaviour.name],n&&("object"!==Ember.typeOf(t.actions)&&(t.actions={}),t.actions[i[s].behaviour.name]=n)}return t.actions.sendActionForBehaviour=function(e){var t=this.get("controller.model");this.send(e.name,{behaviour:e,object:t})},t.classNames=["tiny white square"],a=a.extend(t)}.property()})})}}),define("tree/main",["App","./controllers","./views"],function(e,t,s){t(),s()}),define("tree",["tree/main"],function(e){return e}),define("partials/forms/elements/mixins",["App"],function(e){return function(){e.InputValidate=Ember.Mixin.create({validator:null,validateElement:null,focusOut:function(){if("collection"===this.get("validator")){var e=this.get("object");e.filterProperty(this.get("meta.dataSource")),e.validateProperty(this.get("meta.dataSource"))}},focusIn:function(){if("collection"===this.get("validator")){var e=this.get("object");e.clearValidateForProperty(this.get("meta.dataSource"))}},validateErrorsTemplate:function(){var e=this.get("meta.dataSource"),t="{{#if view.object.validErrors."+e+'}}<small class="error">{{#each object.validErrors.'+e+"}}{{message}} {{/each}}</small>{{/if}}";return t}})}}),define("partials/forms/elements/wysiwyg/main",["App"],function(e){return function(){e.HtmlEditorView=Ember.View.extend({classNames:["ckeditor-row"],template:function(){var e="{{textarea value=view.meta.attributes.value placeholder=view.meta.placeholder name=view.meta.attributes.name}}";return Ember.Handlebars.compile(e)}.property(),didInsertElement:function(){{var e=this.$().children("textarea");CKEDITOR.replace(e[0].id)}}}),e.HtmlEditorCollectionView=Ember.View.extend(e.InputValidate,{classNames:["ckeditor-row"],textareaId:function(){return"textarea-"+this.get("elementId")}.property(),template:function(){var e='<textarea id="{{unbound view.textareaId}}" placeholder="{{unbound view.meta.placeholder}}" name="{{unbound view.meta.attributes.name}}">{{unbound view.object.'+this.get("meta.dataSource")+"}}</textarea>",t=this.validateErrorsTemplate();return Ember.Handlebars.compile(e+t)}.property(),setTextareaValue:function(e){if(this.$()&&this.$().children("textarea").length){var t=this.get("object."+this.get("meta.dataSource"));e&&e.getData()!==t&&e.setData(t)}},updateContent:function(e,t){var s=this;e.editor.checkDirty()&&s.get("object").set(s.get("meta.dataSource"),t.getData())},didInsertElement:function(){var e=this,t=this.$().children("textarea"),s=CKEDITOR.replace(t[0].id);s.on("blur",function(t){Ember.run.once(e,"updateContent",t,s)}),s.on("key",function(t){Ember.run.once(e,"updateContent",t,s)}),e.addObserver("object."+e.get("meta.dataSource"),function(){Ember.run.once(e,"setTextareaValue",s)})},willDestroyElement:function(){var e=this;e.removeObserver("object."+e.get("meta.dataSource"))}})}}),define("partials/forms/elements/select/main",["App"],function(e){return function(){e.SelectView=Ember.Select.extend(e.InputValidate,{attributeBindings:["meta.dataSource:name"],optionLabelPath:function(){return"content.label"}.property(),optionValuePath:function(){return"content.value"}.property(),prompt:function(){var t,s=this.get("meta.choices");if(s&&"array"===Ember.typeOf(s)&&(t=s.findBy("value","")),t)return t.label;var n="Nothing is selected",a=e.i18n.getTranslate(n,"form");return a?a:n}.property("meta.placeholder"),content:null,init:function(){this._super(),this.set("selection",this.get("object.choices").findBy("value",this.get("object.value"))),this.set("content",this.get("object.choices"))},didInsertElement:function(){var e=this.$().find("option")[0],t=this.get("meta.validators")||[];t=t.findBy("type","required"),!e.value&&t&&(e.disabled=!0)}}),e.SelectCollectionView=Ember.Select.extend(e.InputValidate,{attributeBindings:["meta.dataSource:name"],isLazy:!1,optionLabelPath:function(){return this.get("isLazy")?"content.displayName":"content.label"}.property(),optionValuePath:function(){return this.get("isLazy")?"content.id":"content.value"}.property(),prompt:function(){var t,s=this.get("meta.choices");if(s&&"array"===Ember.typeOf(s)&&(t=s.findBy("value","")),t)return t.label;var n="Nothing is selected",a=e.i18n.getTranslate(n,"form");return a?a:n}.property("meta.placeholder"),content:null,changeValue:function(){var e,t=this.get("object"),s=this.get("meta.dataSource"),n=this.get("selection");this.get("isLazy")?(e=n?n:void 0,t.set(s,e),t.changeRelationshipsValue(s,n?n.get("id"):void 0)):(e=n?n.value:"",t.set(s,e))}.observes("value"),init:function(){this._super();var e=this,t=[],s=this.get("object"),n=this.get("meta.dataSource");if(this.set("isLazy",this.get("meta.lazy")),this.get("isLazy")){var a=e.get("controller.store");t.push(s.get(n));var r=function(e){t.push(a.findAll(e.type))};return s.eachRelationship(function(e,t){e===n&&r(t)}),Ember.RSVP.all(t).then(function(t){Ember.set(s.get("loadedRelationshipsByName"),n,t[0]?t[0].get("id"):void 0),e.set("selection",t[0]),e.set("content",t[1])})}e.set("selection",this.get("meta.choices").findBy("value",s.get(n))),e.set("content",this.get("meta.choices")),this.addObserver("object."+n,function(){Ember.run.once(function(){e.set("selection",e.get("meta.choices").findBy("value",s.get(n)))})})},didInsertElement:function(){var e=this.get("meta.dataSource"),t=this.get("object").constructor.typeKey,s=this.get("controller.store").metadataFor(t),n=Ember.get(s,"validators."+e);if(n&&"array"===Ember.typeOf(n)&&(n=n.findBy("type","required"))){var a=this.$().find("option")[0];!a.value&&n&&(a.disabled=!0)}},willDestroyElement:function(){this.removeObserver("value"),this.removeObserver("object."+this.get("meta.dataSource"))}})}}),define("partials/forms/elements/multi-select/main",["App"],function(e){return function(){var t={templateName:"partials/multi-select-lazy-choices",changeRelations:function(e,t){var s=this.get("object"),n=this.get("collection").findBy("id",t),a=this.get("meta.dataSource"),r=s.get(a);return r.then(function(t){"select"===e?t.pushObject(n):t.removeObject(n);var r=t.get("content").mapBy("id");s.changeRelationshipsValue(a,r)})}};e.MultiSelectView=Ember.View.extend({classNames:["row","collapse","umi-multi-select"],classNameBindings:["isOpen:opened"],templateName:"partials/multi-select",isOpen:!1,placeholder:"",isLazy:!1,collection:[],selectedIds:[],filterIds:[],filterOn:!1,inputInFocus:!1,selectedObjects:function(){var e=this.get("isLazy")?"id":"value",t=this.get("collection")||[],s=[],n=this.get("selectedIds")||[];return t.forEach(function(t){var a=Ember.get(t,e);n.contains(a)&&s.push(t)}),s}.property("selectedIds.@each"),notSelectedObjects:function(){var e,t=this.get("isLazy")?"id":"value",s=this.get("collection"),n=[];return this.get("filterOn")?(e=this.get("filterIds")||[],s.forEach(function(s){var a=Ember.get(s,t);e.contains(a)&&n.push(s)})):(e=this.get("selectedIds")||[],s.forEach(function(s){var a=Ember.get(s,t);e.contains(a)||n.push(s)})),n}.property("selectedIds.@each","filterIds"),opened:function(){var e=this.get("isOpen"),t=this;e?(this.set("inputInFocus",!0),$("body").on("click.umi.multiSelect",function(e){$(e.target).closest(".umi-multi-select-list").length&&$(e.target).hasClass("umi-multi-select-input")||t.set("isOpen",!1)})):($("body").off(".umi.multiSelect"),this.set("inputInFocus",!1),this.get("notSelectedObjects").setEach("hover",!1))}.observes("isOpen"),changeRelations:function(){var e=this.get("object"),t=this.get("meta.dataSource"),s=this.get("selectedIds");this.get("isLazy")?e.set(t,s):(s="array"===Ember.typeOf(s)?JSON.stringify(s.sort()):"",s="[]"===s?"":s,e.set(t,s))},actions:{toggleList:function(){this.set("filterIds",[]),this.set("filterOn",null);var e=!this.get("isOpen");this.set("isOpen",e)},select:function(e){this.get("selectedIds").pushObject(e),this.changeRelations("select",e)},unSelect:function(e){this.get("selectedIds").removeObject(e),this.changeRelations("unSelect",e)},markHover:function(e){var t=this.get("notSelectedObjects"),s=t.findBy("hover",!0),n=0;s&&(s.set("hover",!1),n=t.indexOf(s),"Down"===e&&n<t.length-1?++n:"Up"===e&&n&&--n),t.objectAt(n).set("hover",!0)},selectHover:function(){var e=this.get("isLazy")?"id":"value",t=this.get("notSelectedObjects"),s=t.findBy("hover",!0);this.send("select",s.get(e)),s.set("hover",!1),this.send("toggleList")}},inputView:Ember.View.extend({tagName:"input",classNames:["umi-multi-select-input"],attributeBindings:["parentView.placeholder:placeholder","value","autocomplete"],toggleFocus:function(){this.get("parentView.inputInFocus")?this.$().focus():this.$().blur()}.observes("parentView.inputInFocus"),autocomplete:"off",value:function(){var e,t=this.get("parentView.selectedObjects");return e=t.length?"":""}.property("parentView.selectedObjects"),click:function(){this.get("parentView").set("isOpen",!0)},keyUp:function(){var e="value",t="label",s=this.get("parentView");s.get("isLazy")&&(e="id",t="displayName");var n=this.$().val();if(n){s.set("filterOn",!0);var a=new RegExp("^"+n,"i"),r=s.get("collection"),i=[],o=s.get("selectedIds");r.forEach(function(s){a.test(Ember.get(s,t))&&!o.contains(Ember.get(s,e))&&i.push(Ember.get(s,e))}),s.set("filterIds",i),s.set("isOpen",!0)}},keyDown:function(e){e.stopPropagation();var t,s=this.get("parentView");switch(e.keyCode){case 38:t="Up";break;case 40:t="Down";break;case 13:t="Enter";break;case 27:t="Escape"}switch(t){case"Down":case"Up":s.send("markHover",t);break;case"Enter":s.send("selectHover"),e.preventDefault();break;case"Escape":s.set("isOpen",!1)}},blur:function(){this.$()[0].value=""},willDestroyElement:function(){this.removeObserver("parentView.inputInFocus")}}),init:function(){this._super();var e,s=this,n=this.get("meta.dataSource"),a=this.get("object"),r=s.get("controller.store"),i=[];if(this.set("isLazy",this.get("meta.lazy")),this.get("isLazy")){this.reopen(t),e=a.get(n),i.push(e);var o=function(e){i.push(r.findAll(e.type))};return a.eachRelationship(function(e,t){e===n&&o(t)}),Ember.RSVP.all(i).then(function(e){var t=e[0].mapBy("id")||[],r=e[0].mapBy("id")||[];s.set("collection",e[1]),s.set("selectedIds",t),Ember.set(a.get("loadedRelationshipsByName"),n,r)})}var l=a.get(n)||"[]";try{l=JSON.parse(l)}catch(c){c.message="Некорректное значение поля "+n+". Ожидается массив или null. "+c.message,this.get("controller").send("backgroundError",c)}s.set("collection",this.get("meta.choices")),s.set("selectedIds",l)},willDestroyElement:function(){this.removeObserver("isOpen")}})}}),define("partials/forms/elements/checkbox/main",["App"],function(e){return function(){e.CheckboxElementView=Ember.View.extend({template:function(){var e=this,t=e.get("name"),s=e.get("attributeValue"),n=e.get("className"),a=e.get("value"),r='<input type="hidden" name="'+t+'" value="0" />',i='<input type="checkbox" '+(a?"checked":"")+' name="'+t+'" value="'+s+'" class="'+n+'"/>',o='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.meta.label}}</label>';return Ember.Handlebars.compile(r+i+o)}.property(),name:function(){var e=this.get("meta");return Ember.get(e,"attributes.name")}.property("meta.attributes.name"),value:function(){var e=this.get("meta");return Ember.get(e,"value")}.property("meta.value"),attributeValue:function(){var e=this.get("meta");return Ember.get(e,"attributes.value")}.property("meta.attributes.value"),classNames:["umi-element-checkbox"],actions:{change:function(){var e=this.$(),t=e.find('input[type="checkbox"]')[0];t.checked=!t.checked,$(t).trigger("change")}}}),e.CheckboxCollectionElementView=Ember.View.extend({template:function(){var e,t=this,s=t.get("object"),n=t.get("meta"),a=Ember.get(n,"attributes.name"),r=Ember.get(n,"attributes.value");e=Ember.get(s,Ember.get(n,"dataSource"));var i='<input type="checkbox" '+(e?"checked":"")+' name="'+a+'" value="'+r+'"/>',o='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.meta.label}}</label>';return Ember.Handlebars.compile(i+o)}.property(),classNames:["umi-element-checkbox"],setCheckboxValue:function(){var e=this,t=this.$();t&&(t.find('input[type="checkbox"]')[0].checked=e.get("object."+e.get("meta.dataSource")))},addObserverProperty:function(){var e=this;e.addObserver("object."+e.get("meta.dataSource"),function(){Ember.run.once(e,"setCheckboxValue")})},init:function(){this._super(),this.addObserverProperty()},willDestroyElement:function(){var e=this;e.removeObserver("object."+e.get("meta.dataSource"))},actions:{change:function(){{var e=this;this.$()}e.get("object").toggleProperty(e.get("meta.dataSource"))}}})}}),define("partials/forms/elements/radio/main",["App"],function(e){return function(){e.RadioElementView=Ember.View.extend({templateName:"partials/radioElement",classNames:["umi-element-radio-group"],addObserverProperty:function(){var e=this;e.addObserver("object."+e.get("meta.dataSource"),function(){Ember.run.once(e,"setSelectedRadioElement")})},setSelectedRadioElement:function(){var e=this,t=this.$();if(t){var s=this.get("object."+e.get("meta.dataSource"))||"",n=t[0].querySelector('input[type="radio"][value="'+s+'"]');n&&(n.checked=!0)}},init:function(){this._super(),Ember.warn("Поле с типом radio не поддерживает lazy choices.",!this.get("meta.lazy")),"instance"===Ember.typeOf(this.get("object"))&&this.addObserverProperty()},willDestroyElement:function(){var e=this;e.removeObserver("object."+e.get("meta.dataSource"))},radioElementView:Ember.View.extend({classNames:["umi-element-radio"],template:function(){var e,t,s=this,n=s.get("parentView.object"),a=s.get("parentView.meta"),r=Ember.get(a,"attributes.name"),i=Ember.get(this,"context.attributes.value");t="instance"===Ember.typeOf(n)?Ember.get(n,Ember.get(a,"dataSource"))||"":Ember.get(a,"value"),t===i&&(e=!0);var o='<input type="radio" '+(e?"checked":"")+' name="'+r+'" value="'+i+'"/>',l='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.label}}</label>';return Ember.Handlebars.compile(o+l)}.property(),label:function(){return Ember.warn("Не задан label в choices поля с типом radio.",this.get("context.attributes.label")),this.get("context.attributes.label")||this.get("context.attributes.value")}.property("context.attributes.label"),actions:{change:function(){var e=this,t=this.get("context.attributes.value"),s=e.get("parentView.object"),n=e.get("parentView.meta"),a=Ember.get(n,"dataSource");if("instance"===Ember.typeOf(s))Ember.set(s,a,t);else{var r=this.$().find('input[type="radio"]');r.length&&(r[0].checked=!0)}}}})})}}),define("partials/forms/elements/text/main",["App"],function(e){return function(){e.TextElementView=Ember.View.extend(e.InputValidate,{type:"text",classNames:["umi-element-text"],template:function(){var e;if("instance"===Ember.typeOf(this.get("object"))){this.set("validator","collection");var t=this.get("meta.dataSource"),s="{{input type=view.type value=view.object."+t+" placeholder=view.meta.placeholder name=view.meta.attributes.name}}",n=this.validateErrorsTemplate();e=s+n}else e="{{input type=view.type value=view.meta.value name=view.meta.attributes.name}}";return Ember.Handlebars.compile(e)}.property()})}}),define("partials/forms/elements/number/main",["App"],function(e){return function(){e.NumberElementView=e.TextElementView.extend({classNames:["umi-element","umi-element-number"],type:"number"})}}),define("partials/forms/elements/email/main",["App"],function(e){return function(){e.EmailElementView=e.TextElementView.extend({classNames:["umi-element-email"],type:"email"})}}),define("partials/forms/elements/password/main",["App"],function(e){return function(){e.PasswordElementView=e.TextElementView.extend({classNames:["umi-element","umi-element-password"],type:"text"})}}),define("partials/forms/elements/time/main",["App"],function(e){return function(){e.TimeElementComponent=Ember.Component.extend(e.InputValidate,{templateName:"partials/timeElement",classNames:["row","collapse"],didInsertElement:function(){var e=this.$();e.find(".icon-delete").click(function(){e.find("input").val("")}),this.$().find("input").timepicker({hourText:"Часы",minuteText:"Минуты",currentText:"Выставить текущее время"})},inputView:Ember.View.extend({template:function(){var e=this.get("parentView.meta.dataSource");return Ember.Handlebars.compile('{{input type="text" value=object.'+e+' placeholder=meta.placeholder validator="collection" name=meta.attributes.name}}')}.property()})})}}),define("partials/forms/elements/date/main",["App"],function(e){return function(){e.DateElementView=Ember.View.extend({templateName:"partials/dateElement",classNames:["row","collapse"],didInsertElement:function(){this.$().find("input").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"dd.mm.yy"})},actions:{clearValue:function(){var e=this,t=e.$();if("instance"===Ember.typeOf(e.get("object"))){var s=e.get("meta.dataSource");e.get("object").set(s,"")}else t.find("input").val("")}}})}}),define("partials/forms/elements/datetime/main",["App"],function(e){return function(){e.DateTimeElementView=Ember.View.extend({templateName:"partials/dateTimeElement",classNames:["row","collapse"],value:null,changeValue:function(){Ember.run.once(this,"setValueForObject")}.observes("value"),setValueForObject:function(){var e=this;if("instance"===Ember.typeOf(e.get("object"))){var t=e.get("value");t=Ember.isNone(t)?"":t;var s=e.get("object."+e.get("meta.dataSource"))||"";if(t){if(s=s?JSON.parse(s):{date:null},s.date=Ember.isNone(s.date)?"":s.date,s.date!==t){var n="";t&&(n={date:t,timezone_type:3,timezone:"Europe/Moscow"},n=JSON.stringify(n)),e.get("object").set(e.get("meta.dataSource"),n)}}else s!==t&&e.get("object").set(e.get("meta.dataSource"),"")}},setInputValue:function(){var e=this,t=e.get("object."+e.get("meta.dataSource")),s=e.get("value");s=Ember.isNone(s)?"":s,t?(t=JSON.parse(t),t.date=Ember.isNone(t.date)?"":t.date,t.date!==s&&e.set("value",t.date)):t!==s&&e.set("value","")},init:function(){this._super();var e,t=this;try{"instance"===Ember.typeOf(t.get("object"))?(e=t.get("object."+t.get("meta.dataSource"))||"{}",e=JSON.parse(e),t.set("value",e.date||""),t.addObserver("object."+t.get("meta.dataSource"),function(){Ember.run.once(t,"setInputValue")})):t.set("value",t.get("meta.value"))}catch(s){t.get("controller").send("backgroundError",s)}},didInsertElement:function(){this.$().find("input").datetimepicker({hourText:"Часы",minuteText:"Минуты",secondText:"Секунды",currentText:"Выставить текущее время",timeFormat:"hh:mm:ss",dateFormat:"dd.mm.yy"})},willDestroyElement:function(){var e=this;"instance"===Ember.typeOf(e.get("object"))&&e.removeObserver("object."+e.get("meta.dataSource"))},actions:{clearValue:function(){var e=this;e.set("value","")}}})}}),define("partials/forms/elements/file/main",["App"],function(e){return function(){e.FileElementView=Ember.View.extend({templateName:"partials/fileElement",classNames:["row","collapse"],actions:{clearValue:function(){var e=this,t=e.$();if("instance"===Ember.typeOf(e.get("object"))){var s=e.get("meta.dataSource");e.get("object").set(s,"")}else t.find("input").val("")}}})}}),define("partials/forms/elements/image/main",["App"],function(e){return function(){e.ImageElementView=Ember.View.extend({template:"partials/imageElement",classNames:["row","collapse"],tumb:null,actions:{clearValue:function(){var e=this,t=e.$();if("instance"===Ember.typeOf(e.get("object"))){var s=e.get("meta.dataSource");e.get("object").set(s,"")}else t.find("input").val("")}}})}}),define("partials/forms/elements/textarea/main",["App"],function(e){return function(){e.TextareaElementView=Ember.View.extend({templateName:"partials/textareaElement",classNames:["umi-element-textarea"],textareaView:function(){var t={didInsertElement:function(){this.allowResize()},willDestroyElement:function(){this.get("parentView").$().off("mousedown.umi.textarea")},allowResize:function(){var e=this.$().find("textarea"),t=60;e.length&&e.css({height:t}),this.get("parentView").$().on("mousedown.umi.textarea",".umi-element-textarea-resizer",function(s){if(0===s.button){var n=$(this);$("html").addClass("s-unselectable"),n.addClass("s-unselectable");var a=e.offset().top;$("body").on("mousemove.umi.textarea",function(s){var n=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.clear&&document.selection.clear()};n();var r=s.pageY-a;t>r&&(r=t),e.css({height:r})}),$("body").on("mouseup.umi.textarea",function(){$("body").off("mousemove.umi.textarea"),$("body").off("mouseup.umi.textarea"),$("html").removeClass("s-unselectable")})}})}};return"instance"===Ember.typeOf(this.get("object"))?(t.template=function(){var e=this.get("meta.dataSource"),t="{{textarea placeholder=view.attributes.placeholder name=view.meta.attributes.name value=view.object."+e+"}}",s=this.validateErrorsTemplate();return Ember.Handlebars.compile(t+s)}.property(),Ember.View.extend(e.InputValidate,t)):(t.template=function(){var e="{{textarea placeholder=view.attributes.placeholder name=view.meta.attributes.name value=view.attributes.value}}";return Ember.Handlebars.compile(e)}.property(),Ember.View.extend(t))}.property()})}}),define("partials/forms/elements/checkbox-group/main",["App"],function(e){return function(){e.CheckboxGroupElementView=Ember.View.extend({templateName:"partials/checkboxGroup",classNames:["umi-element-checkbox-group"]}),e.CheckboxGroupCollectionElementView=Ember.View.extend({templateName:"partials/checkboxGroup/collectionElement",classNames:["umi-element-checkbox-group"],addObserverProperty:function(){var e=this;e.addObserver("object."+e.get("meta.dataSource"),function(){Ember.run.once(e,"setCheckboxesValue")})},setCheckboxesValue:function(){var e=this,t=this.$();if(t){var s=t.find('input[type="checkbox"]'),n=this.get("object."+e.get("meta.dataSource"))||"[]";try{n=JSON.parse(n)}catch(a){a.message="Некорректное значение поля "+propertyName+". Ожидается массив или null. "+a.message,this.get("controller").send("backgroundError",a)}for(var r=0;r<s.length;r++)s[r].checked=n.contains(s[r].value)}},init:function(){this._super(),Ember.warn("Поле с типом checkboxGroup не поддерживает lazy choices.",!this.get("meta.lazy")),this.addObserverProperty()},willDestroyElement:function(){var e=this;e.removeObserver("object."+e.get("meta.dataSource"))},checkboxElementView:Ember.View.extend({classNames:["umi-element-checkbox"],template:function(){var e,t=this,s=t.get("parentView.object"),n=t.get("parentView.meta"),a=Ember.get(n,"attributes.name"),r=Ember.get(this,"context.attributes.value"),i=Ember.get(s,Ember.get(n,"dataSource"))||"[]";try{i=JSON.parse(i)}catch(o){o.message="Некорректное значение поля "+propertyName+". Ожидается массив или null. "+o.message,this.get("controller").send("backgroundError",o)}i.contains(r)&&(e=!0);var l='<input type="checkbox" '+(e?"checked":"")+' name="'+a+'" value="'+r+'"/>',c='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.label}}</label>';return Ember.Handlebars.compile(l+c)}.property(),label:function(){return Ember.warn("Не задан label в choices поля с типом checkboxGroup.",this.get("context.attributes.label")),this.get("context.attributes.label")||this.get("context.attributes.value")}.property("context.attributes.label"),actions:{change:function(){var e=this,t=(this.$(),this.get("context.attributes.value")),s=e.get("parentView.object"),n=e.get("parentView.meta"),a=Ember.get(n,"dataSource"),r=Ember.get(s,a)||"[]";try{r=JSON.parse(r)}catch(i){i.message="Некорректное значение поля "+a+". Ожидается массив или null. "+i.message,this.get("controller").send("backgroundError",i)}r.contains(t)?r=r.without(t):r.push(t),r.sort(),Ember.set(s,a,JSON.stringify(r))}}})})}}),define("partials/forms/elements/color/main",["App"],function(e){return function(){e.ColorElementView=e.TextElementView.extend({classNames:["umi-element-color"],type:"color"})}}),define("partials/forms/elements/permissions/main",["App"],function(e){return function(){e.PermissionsView=Ember.View.extend({templateName:"partials/permissions",objectProperty:function(){var e=this.get("object"),t=this.get("meta.dataSource"),s=e.get(t)||"{}";try{s=JSON.parse(s),"object"!==Ember.typeOf(s)&&(s={})}catch(n){this.get("controller").send("backgroundError",n)}finally{return s}}.property("object"),setObjectProperty:function(e,t,s){function n(e){if(e){for(var t=0,s=$(e).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),a=0;a<s.length;a++)s[a].checked&&t++;e.indeterminate=t===s.length?!1:!0;var r=$(e).closest(".umi-permissions-component").closest(".umi-permissions-role-list-item").children(".umi-permissions-role").find(".umi-permissions-role-checkbox");if(r.length){r[0].checked=!0;var i=$(r[0]).closest(".umi-permissions-role-label").attr("data-permissions-component-path"),o=u[i];"array"!==Ember.typeOf(o)&&(o=u[i]=[]),o.contains(r[0].name)||(o.push(r[0].name),o.sort()),n(r[0])}}}function a(e){e.indeterminate=!1;var t,s;if(t=$(e).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),t.length)for(o=0;o<t.length;o++)t[o].checked=!0,t[o].indeterminate=!1,s=$(t[o]).closest(".umi-permissions-role-label").attr("data-permissions-component-path"),"array"!==Ember.typeOf(u[s])&&(u[s]=[]),u[s].push(t[o].name)}function r(e){var t,s,n,a=0,i=$(e).closest(".umi-permissions-component").closest(".umi-permissions-role-list-item").children(".umi-permissions-role").find(".umi-permissions-role-checkbox");if(i.length){if(i[0].checked){if(t=$(i).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),t.length)for(var o=0;o<t.length;o++)t[o].checked&&++a;a?i[0].indeterminate=!0:(i[0].checked=!1,i[0].indeterminate=!1,s=$(i[0]).closest(".umi-permissions-role-label").attr("data-permissions-component-path"),n=u[s],"array"!==Ember.typeOf(n)&&(n=u[s]=[]),n=u[s]=n.without(i[0].name),n.length||delete u[s])}r(i[0])}}var i,o,l,c=this.get("object"),u=this.get("objectProperty"),h=u[t],p=e.value;if("array"!==Ember.typeOf(h)&&(h=u[t]=[]),s)h.contains(p)||(h.push(p),h.sort()),a(e),n(e);else{if(h.contains(p)&&(u[t]=h.without(p),u[t].length||delete u[t]),e.indeterminate=!1,i=$(e).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),i.length)for(o=0;o<i.length;o++){i[o].checked=!1,i[o].indeterminate=!1,l=$(i[o]).closest(".umi-permissions-role-label").attr("data-permissions-component-path");var f=u[l];"array"!==Ember.typeOf(f)&&(f=u[l]=[]),f=u[l]=f.without(i[o].name),f.length||delete u[l]}r(e)}"{}"===JSON.stringify(u)&&(u=[]),c.set(this.get("meta.dataSource"),JSON.stringify(u))},didInsertElement:function(){function e(e){if(e.checked){for(var t=$(e).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),s=0,n=0;n<t.length;n++)t[n].checked&&s++;e.indeterminate=s===t.length?!1:!0}}var t=this,s=this.$(),n=this.get("objectProperty"),a=function(e,t){var n,a;if("array"===Ember.typeOf(e[t]))for(n=0;n<e[t].length;n++)a=s.find('[data-permissions-component-path="'+t+'"]').find(".umi-permissions-role-checkbox").filter('[name="'+e[t][n]+'"]'),a.length&&(a[0].checked=!0)};for(var r in n)n.hasOwnProperty(r)&&a(n,r);for(var i=s.find(".umi-permissions-role-checkbox"),o=0;o<i.length;o++)e(i[o]);var l=s.find(".accordion");l.each(function(e){var t=$(l[e]).find(".accordion-navigation-button"),s=$(l[e]).find(".content");t.on("click.umi.permissions.triggerButton",function(){s.toggleClass("active"),t.find(".icon").toggleClass("icon-right icon-bottom")})}),s.on("click.umi.permissions",".umi-permissions-role-button-expand",function(){var e=$(this).closest("li").children(".umi-permissions-component");e.toggleClass("expand"),$(this).find(".icon").toggleClass("icon-right icon-bottom"),e.find(".umi-permissions-component").removeClass("expand"),e.find(".umi-permissions-role-button-expand").find(".icon").addClass("icon-right").removeClass("icon-bottom")}),s.on("change.umi.permissions",".umi-permissions-role-checkbox",function(){var e=this.checked,s=$(this).closest(".umi-permissions-role-label").attr("data-permissions-component-path");t.setObjectProperty(this,s,e)})},willDestroyElement:function(){var e=this.$();e.off("click.umi.permissions"),e.off("change.umi.permissions")}}),e.PermissionsPartialView=Ember.View.extend({tagName:"ul",classNames:["no-bullet","umi-permissions-role-list"],templateName:"partials/permissions/partial"})}}),define("forms/elements/main",["App","partials/forms/elements/mixins","partials/forms/elements/wysiwyg/main","partials/forms/elements/select/main","partials/forms/elements/multi-select/main","partials/forms/elements/checkbox/main","partials/forms/elements/radio/main","partials/forms/elements/text/main","partials/forms/elements/number/main","partials/forms/elements/email/main","partials/forms/elements/password/main","partials/forms/elements/time/main","partials/forms/elements/date/main","partials/forms/elements/datetime/main","partials/forms/elements/file/main","partials/forms/elements/image/main","partials/forms/elements/textarea/main","partials/forms/elements/checkbox-group/main","partials/forms/elements/color/main","partials/forms/elements/permissions/main"],function(e,t,s,n,a,r,i,o,l,c,u,h,p,f,d,m,b,v,g,y){return function(){t(),s(),n(),a(),r(),i(),o(),l(),c(),u(),h(),p(),f(),d(),m(),b(),v(),g(),y()}}),define("partials/forms/partials/magellan/main",["App"],function(e){return function(){e.MagellanView=Ember.View.extend({classNames:["magellan-menu","s-full-height-before","s-unselectable"],focusId:null,elementView:Ember.View.extend({isFieldset:function(){return"fieldset"===this.get("content.type")}.property()}),buttonView:Ember.View.extend({tagName:"a",classNameBindings:["isFocus:focus"],isFocus:function(){return this.get("model.id")===this.get("parentView.parentView.focusId")}.property("parentView.parentView.focusId"),click:function(){var e=this,t=document.getElementById("fieldset-"+this.get("model.id"));$(t).closest(".magellan-content").animate({scrollTop:t.parentNode.offsetTop-parseFloat(getComputedStyle(t).marginTop)},0),setTimeout(function(){e.get("parentView.parentView.focusId")!==e.get("model.id")&&e.get("parentView.parentView").set("focusId",e.get("model.id"))},10)}}),init:function(){var e=this.get("elements");e=e.filter(function(e){return"fieldset"===e.type}),this.set("focusId",e.get("firstObject.id"))},didInsertElement:function(){var e=this,t=$(".magellan-menu").parent().find(".magellan-content");t.length&&t.on("scroll.umi.magellan",function(){for(var t,s,n=$(this).scrollTop(),a=$(this).find("fieldset"),r=0;r<a.length;r++)s=a[r].parentNode.offsetTop,s-parseFloat(getComputedStyle(a[r]).marginTop)<=n&&n<=s+a[r].offsetHeight&&(t=a[r]);t&&e.set("focusId",t.id.replace(/^fieldset-/g,""))})}})}}),define("partials/forms/partials/submitToolbar/main",["App","toolbar"],function(e){return function(){e.SubmitToolbarView=Ember.View.extend({layoutName:"partials/form/submitToolbar",tagName:"ul",classNames:["button-group","umi-form-control-buttons"],elementView:e.ToolbarElementView.extend({splitButtonView:function(){var t=e.SplitButtonView.extend(e.splitButtonBehaviour.dropUp),s=this.get("context.behaviour.name");return s=s?e.splitButtonBehaviour.get(s)||{}:{},t=t.extend(s)}.property()})})}}),define("forms/formBase/main",["App","partials/forms/partials/magellan/main","partials/forms/partials/submitToolbar/main"],function(e,t,s){return function(){t(),s(),e.FormControllerMixin=Ember.Mixin.create(e.i18nInterface,{dictionaryNamespace:"form",localDictionary:function(){var e=this.get("control")||{};return e.i18n}.property()}),e.FormViewMixin=Ember.Mixin.create({tagName:"form",submit:function(){return!1},hasFieldset:function(){return this.get("context.control.meta.elements").isAny("type","fieldset")
}.property("context.control.meta"),elementView:Ember.View.extend({classNameBindings:["isField"],isFieldset:function(){return"fieldset"===this.get("content.type")}.property(),isExpanded:!0,isField:function(){return this.get("isFieldset")?void 0:this.gridType()}.property(),gridType:function(){var e=["wysiwyg","permissions"],t="large-4 small-12";return e.contains(this.get("content.type"))&&(t="small-12"),"umi-columns "+t},actions:{expand:function(){this.toggleProperty("isExpanded")}}})}),e.FieldMixin=Ember.Mixin.create({layout:Ember.Handlebars.compile('<div><span class="umi-form-label">{{view.meta.label}}</span></div>{{yield}}'),template:function(){var e,t;try{if(e=this.get("meta"),t=this.get(Ember.String.camelize(e.type)+"Template")||"",!t)throw new Error("Для поля с типом "+e.type+" не реализован шаблонный метод.")}catch(s){this.get("controller").send("backgroundError",s)}finally{return t=this.extendTemplate(t),Ember.Handlebars.compile(t)}}.property(),extendTemplate:function(e){return e},textTemplate:function(){return'{{view "textElement" object=view.object meta=view.meta}}'}.property(),emailTemplate:function(){return'{{view "emailElement" object=view.object meta=view.meta}}'}.property(),passwordTemplate:function(){return'{{view "passwordElement" object=view.object meta=view.meta}}'}.property(),numberTemplate:function(){return'{{view "numberElement" object=view.object meta=view.meta}}'}.property(),colorTemplate:function(){return'{{view "colorElement" object=view.object meta=view.meta}}'}.property(),timeTemplate:function(){return"{{time-element object=view.object meta=view.meta}}"}.property(),dateTemplate:function(){return'{{view "dateElement" object=view.object meta=view.meta}}'}.property(),datetimeTemplate:function(){return'{{view "dateTimeElement" object=view.object meta=view.meta}}'}.property(),fileTemplate:function(){return'{{view "fileElement" object=view.object meta=view.meta}}'}.property(),imageTemplate:function(){return'{{view "imageElement" object=view.object meta=view.meta}}'}.property(),textareaTemplate:function(){return'{{view "textareaElement" object=view.object meta=view.meta}}'}.property(),wysiwygTemplate:function(){return'{{view "htmlEditor" object=view.object meta=view.meta}}'}.property(),selectTemplate:function(){return'{{view "select" object=view.object meta=view.meta name=view.meta.attributes.name}}'}.property(),multiSelectTemplate:function(){return'{{view "multiSelect" object=view.object meta=view.meta name=view.meta.attributes.name}}'}.property(),checkboxTemplate:function(){return'{{view "checkboxElement" object=view.object meta=view.meta}}'}.property(),checkboxGroupTemplate:function(){return'{{view "checkboxGroupElement" object=view.object meta=view.meta}}'}.property(),radioTemplate:function(){return'{{view "radioElement" object=view.object meta=view.meta}}'}.property()}),e.FormBaseController=Ember.ObjectController.extend(e.FormControllerMixin,{}),e.FormBaseView=Ember.View.extend(e.FormViewMixin,{layoutName:"partials/form",classNames:["s-margin-clear","s-full-height","umi-form-control"],attributeBindings:["action"],action:function(){return this.get("context.control.meta.attributes.action")}.property("context.control.meta.attributes.action"),actions:{submit:function(t){var s=this;t&&t.addClass("loading");var n=this.$().serialize();$.post(s.get("action"),n).then(function(n){var a=Ember.get(n,"result.save"),r=s.get("context");Ember.set(r,"control.meta",a),t.removeClass("loading");var i={type:"success",content:"Сохранено."};e.notification.create(i)})}},submitToolbarView:e.SubmitToolbarView.extend({elementView:e.ToolbarElementView.extend({buttonView:function(){var t=e.ButtonView.extend();return"save"===this.get("context.behaviour.name")&&t.reopen({actions:{save:function(){this.get("parentView.parentView.parentView").send("submit",this.$())}}}),t}.property()})})}),e.FieldBaseView=Ember.View.extend(e.FieldMixin,{})}}),define("forms/formControl/main",["App"],function(e){return function(){e.FormControlController=Ember.ObjectController.extend(e.FormControllerMixin,{needs:["component"],settings:function(){var e={};return e=this.get("controllers.component.settings")}.property()}),e.FormControlView=Ember.View.extend(e.FormViewMixin,{layoutName:"partials/formControl",classNames:["s-margin-clear","s-full-height","umi-validator","umi-form-control"]}),e.FieldFormControlView=Ember.View.extend(e.FieldMixin,{classNameBindings:["isError:error"],isError:function(){var e=this.get("meta.dataSource");return!!this.get("object.validErrors."+e)}.property("object.validErrors"),wysiwygTemplate:function(){return'{{view "htmlEditorCollection" object=view.object meta=view.meta}}'}.property(),selectTemplate:function(){return'{{view "selectCollection" object=view.object meta=view.meta}}'}.property(),checkboxTemplate:function(){return'{{view "checkboxCollectionElement" object=view.object meta=view.meta}}'}.property(),checkboxGroupTemplate:function(){return'{{view "checkboxGroupCollectionElement" object=view.object meta=view.meta}}'}.property(),permissionsTemplate:function(){return'{{view "permissions" object=object meta=view.meta}}'}.property()})}}),define("forms/main",["App","./elements/main","./formBase/main","./formControl/main"],function(e,t,s,n){t(),s(),n()}),define("forms",["forms/main"],function(e){return e}),define("notification/main",["App"],function(e){e.Notification=Ember.Object.extend({settings:{type:"secondary",title:"UMI.CMS",content:"",close:!0,duration:3e3},create:function(t){var s=this.get("settings");if(t)for(var n in t)t.hasOwnProperty(n)&&(s[n]=t[n]);s.id=e.notificationList.incrementProperty("notificationId");var a=e.notificationList.get("content");Ember.run.next(this,function(){a.pushObject(Ember.Object.create(s))})},removeAll:function(){e.notificationList.set("content",[])}}),e.notification=e.Notification.create({}),e.NotificationList=Ember.ArrayController.extend({content:[],sortProperties:["id"],sortAscending:!0,notificationId:0,closeAll:!1,itemCount:function(){if(this.get("content.length")>1&&!this.get("closeAll")&&(this.set("closeAll",!0),this.get("content").pushObject(Ember.Object.create({id:"closeAll",type:"secondary",content:"Закрыть все"}))),this.get("content.length")<=2&&this.get("closeAll")){var e=this.get("content").findBy("id","closeAll");this.get("content").removeObject(e),this.set("closeAll",!1)}}.observes("content.length")}),e.notificationList=e.NotificationList.create({}),e.AlertBox=Ember.View.extend({classNames:["alert-box"],classNameBindings:["content.type"],layoutName:"partials/alert-box",didInsertElement:function(){var e=this.get("content.duration");e&&Ember.run.later(this,function(){var e=this.get("content.id"),t=this.get("controller.content")||[],s=t.findBy("id",e);t.removeObject(s)},e)},actions:{close:function(){var e=this.get("controller.content");e.removeObject(this.get("content"))}}}),e.NotificationListView=Ember.CollectionView.extend({tagName:"div",classNames:["umi-alert-wrapper"],itemViewClass:e.AlertBox,contentBinding:"controller.content",controller:e.notificationList})}),define("notification",["notification/main"],function(e){return e}),define("dialog/main",["App"],function(e){e.DialogController=Ember.ObjectController.extend({deferred:null,open:function(e){this.set("deferred",Ember.RSVP.defer());var t=this.get("deferred");return Ember.get(e,"proposeRemember"),this.set("model",Ember.Object.create(e)),t.promise},actions:{confirm:function(){this.set("model",null);var e=this.get("deferred");e.resolve("loaded")},close:function(){this.set("model",null);var e=this.get("deferred");e.reject("reject")}}}),e.dialog=e.DialogController.create(),e.DialogView=Ember.View.extend({layoutName:"partials/dialog-layout",templateName:"partials/dialog-template",modelBinding:"controller.model",controller:e.dialog,showDialog:function(){this.get("model")?this.append():this.isVisible&&this.remove()}.observes("model"),didInsertElement:function(){var e=this.$(),t=e.children(".umi-dialog"),s=$(document).height(),n=s>t[0].offsetHeight?-t[0].offsetHeight/2:-t[0].offsetHeight/2+t[0].offsetHeight-s;t.css({marginTop:n}),t.addClass("visible")},actions:{confirm:function(){var e=this.$(),t=e.children(".umi-dialog");return t.removeClass("visible"),this.get("controller").send("confirm")},close:function(){var e=this.$(),t=e.children(".umi-dialog");return t.removeClass("visible"),this.get("controller").send("close")}}});e.DialogView.create()}),define("dialog",["dialog/main"],function(e){return e}),define("popup/view",["App"],function(e){return function(){e.TableControlColumnSelectorPopupView=Ember.View.extend({templateName:"tableControlColumnSelectorPopup",classNames:["umi-table-control-column-selector-popup"],init:function(){this.get("parentView").setProperties({title:"Выбор колонок в таблице",width:400,height:300,contentOverflow:["overflow","scroll"]})},didInsertElement:function(){this.$().find("li").mousedown(function(){$(this).find("input").click()}),window.pageYOffset||document.documentElement.scrollTop}}),e.PopupView=Ember.View.extend({contentParams:{},classNames:["umi-popup"],title:"",width:600,height:400,contentOverflow:["overflow","hidden"],blur:!1,fade:!0,drag:!0,resize:!0,layoutName:"partials/popup",checkContentParams:function(){this.get("object").set(this.get("meta.dataSource"),this.contentParams.fileInfo.path)}.observes("contentParams"),template:function(){var e,t=this.get("popupType");switch(t){case"fileManager":e='{{view "fileManager" object=view.object meta=view.meta}}';break;case"tableControlColumnSelectorPopup":e='{{view "tableControlColumnSelectorPopup"}}';break;default:e="Шаблон не обнаружен в системе"}return Ember.Handlebars.compile(e)}.property("popupType"),didInsertElement:function(){this.blur&&this.addBlur(),this.fade&&this.fadeIn(),this.drag&&this.allowDrag(),this.resize&&this.allowResize(),"hidden"!==this.contentOverflow&&$(".umi-popup-content").css(this.contentOverflow[0],this.contentOverflow[1]),this.setSize()},actions:{closePopup:function(){this.removeBlur(),this.remove()}},setSize:function(){this.$().width(this.width),this.$().height(this.height)},fadeIn:function(){var e=this;$("body").append('<div class="umi-popup-visible-overlay"></div>'),$("body").on("click.umi.popup",".umi-popup-visible-overlay",function(){e.send("closePopup"),$("body").off("click.umi.popup")})},addBlur:function(){$(".umi-header").addClass("s-blur"),$(".umi-content").addClass("s-blur"),$("body").append('<div class="umi-popup-invisible-overlay"></div>')},removeBlur:function(){$(".umi-header").removeClass("s-blur"),$(".umi-content").removeClass("s-blur"),$(".umi-popup-invisible-overlay").remove(),$(".umi-popup-visible-overlay").remove()},allowResize:function(){var e=this;$(".umi-popup-resizer").show(),$("body").on("mousedown",".umi-popup-resizer",function(t){if(0===t.button){$("body").append('<div class="umi-popup-invisible-overlay"></div>');var s=$(".umi-popup").offset().left,n=$(".umi-popup").offset().top;$("html").addClass("s-unselectable"),$("html").mousemove(function(t){var a=t.pageX-s,r=t.pageY-n;a<e.get("width")&&(a=e.get("width")),r<e.get("height")&&(r=e.get("height")),$(".umi-popup").css({width:a,height:r}),$("html").on("mouseup",function(){$("html").off("mousemove"),$("html").removeClass("s-unselectable"),$(".umi-popup-invisible-overlay").remove()})})}})},allowDrag:function(){var e=this;$(".umi-popup-header").css({cursor:"move"}),$("body").on("mousedown",".umi-popup-header",function(t){$(".umi-popup").css("z-index","10000"),$(this).parent().css("z-index","10001");var s=$(this);if(0===t.button){$("body").append('<div class="umi-popup-invisible-overlay"></div>');var n=t.pageX-$(this).offset().left,a=t.pageY-$(this).offset().top,r=$(window).height()-34,i=$(window).width()-34;$("html").addClass("s-unselectable"),$("body").mousemove(function(t){var o=t.pageX-n,l=t.pageY-a;0>=l||l>=r||o<=68-e.width||o>=i||(s.parent().offset({left:o,top:l}),$("body").on("mouseup",function(){$("body").off("mousemove"),$("html").removeClass("s-unselectable"),$(".umi-popup-invisible-overlay").remove()}))})}})}})}}),define("popup/main",["./view","App"],function(e){e()}),define("popup",["popup/main"],function(e){return e}),define("table/view",["App"],function(e){return function(){e.TableView=Ember.View.extend({templateName:"partials/table",classNames:["umi-table-ajax"],headers:[],objectId:[],data:[],didInsertElement:function(){function e(e,s){t.set("headers",e);var n=(s.length,[]);t.set("data",s),t.set("objectId",n)}var t=this;!function(){$.ajax({type:"GET",url:"/admin/api/statistics/metrika/action/counters",data:{},cache:!1,beforeSend:function(){$(".umi-component").css({position:"relative"}).append(function(){return'<div class="umi-loader" style="position: absolute; overflow: hidden; z-index: 1; padding: 30px; width: 100%; height: 100%; background: #FFFFFF;"><i class="animate animate-loader-40"></i><h3>Идёт загрузка данных...</h3></div>'})},success:function(t){$(".umi-loader").remove();var s=[];s.push(t.result.counters.labels.name,t.result.counters.labels.site,t.result.counters.labels.code_status);for(var n=t.result.counters.counters,a=n.length,r=[],i=0;a>i;i++)r.push([n[i].id,n[i].site,n[i].name,n[i].code_status]);e(s,r)},error:function(){$(".umi-loader").remove(),$(".umi-component").css({position:"relative"}).append(function(){return'<div class="umi-loader" style="position: absolute; padding: 30px; background: rgba(214,224,233,.7);"><h3>Не удалось загрузить данные</h3></div>'})}})}(),$(".umi-table-ajax").on("click.umi.table",".umi-table-ajax-tr",function(){var e=$(this).data("object-id");t.get("controller").transitionToRoute("context",e)})},willDestroyElement:function(){$(window).off(".umi.table")},row:Ember.View.extend({tagName:"tr",classNames:["umi-table-ajax-tr"],attributeBindings:["objectId:data-object-id"],objectId:function(){return this.get("object")[0]}.property("object"),cell:function(){var e=this.get("object");return e.shift(0),e}.property("object")})})}}),define("table/main",["./view","App"],function(e){e()}),define("table",["table/main"],function(e){return e}),define("sideMenu/main",["App"],function(e){e.SideMenuController=Ember.ObjectController.extend({needs:["component"],objects:function(){return this.get("controllers.component.dataSource.objects")}.property("model")}),e.SideMenuView=Ember.View.extend({layout:"partials/sideMenu"})}),define("sideMenu",["sideMenu/main"],function(e){return e}),define("application/main",["App","topBar","divider","dock","toolbar","tableControl","fileManager","treeSimple","tree","forms","notification","dialog","popup","DS","table","sideMenu"],function(e){return function(){e.advanceReadiness()}}),require.config({baseUrl:"/resources",paths:{text:"libs/requirejs-text/text",App:"application/application",jquery:"libs/jquery/dist/jquery",jqueryUI:"libs/jquery-ui/jquery-ui.min",Modernizr:"libs/modernizr/modernizr",Handlebars:"libs/handlebars/handlebars",Ember:"libs/ember/ember",DS:"libs/ember-data/ember-data",iscroll:"libsStatic/iscroll-probe-5.1.1",ckEditor:"libs/ckeditor/ckeditor",timepicker:"libs/jqueryui-timepicker-addon/src/jquery-ui-timepicker-addon",moment:"libs/momentjs/min/moment-with-langs.min",elFinder:"libsStatic/elFinder"},shim:{Modernizr:{exports:"Modernizr"},jquery:{exports:"jQuery"},jqueryUI:{exports:"jQuery",deps:["jquery"]},elFinder:{exports:"elFinder",deps:["jquery","jqueryUI"]},Ember:{exports:"Ember",deps:["Handlebars","jquery"]},DS:{exports:"DS",deps:["Ember"]},ckEditor:{exports:"ckEditor"},timepicker:{exports:"timepicker",deps:["jquery","jqueryUI"]}},packages:[{name:"accordion",location:"partials/accordion"},{name:"chartControl",location:"partials/chartControl"},{name:"dialog",location:"partials/dialog"},{name:"divider",location:"partials/divider"},{name:"dock",location:"partials/dock"},{name:"fileManager",location:"partials/fileManager"},{name:"forms",location:"partials/forms"},{name:"notification",location:"partials/notification"},{name:"popup",location:"partials/popup"},{name:"search",location:"partials/search"},{name:"megaIndex",location:"partials/seo/megaIndex"},{name:"sideMenu",location:"partials/sideMenu"},{name:"yandexWebmaster",location:"partials/seo/yandexWebmaster"},{name:"table",location:"partials/table"},{name:"tableControl",location:"partials/tableControl"},{name:"toolbar",location:"partials/toolbar"},{name:"topBar",location:"partials/topBar"},{name:"tree",location:"partials/tree"},{name:"treeSimple",location:"partials/treeSimple"}]}),require(["jquery"],function(){var e=$.get(window.UmiSettings.authUrl);e.done(function(e){var t=function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};e.result&&t(window.UmiSettings,e.result.auth),require(["application/main"],function(e){e()})}),e.fail(function(e){require(["auth/main"],function(t){t({accessError:e})})})}),define("main",function(){});