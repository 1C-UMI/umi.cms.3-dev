<?php

/**
 * @var umicms\orm\selector\CmsSelector $list
 * @var umicms\pagination\CmsPaginator $paginator
 * @var umicms\project\module\search\model\object\SearchIndex $index
 * @var umicms\orm\object\ICmsPage $page
 * @var string $query
 */

?>

<?php if ($list->getTotal()) : ?>
    <?php foreach ($list as $index) : ?>
        <?php $page = $index->getIndexedObject() ?>
        <div>
            <h3>
                <a href="<?= $page->getPageUrl() ?>"><?= $page->displayName ?></a>
            </h3>
            <?= $this->widget('search.fragments', ['query' => $query, 'page' => $page]); ?>
        </div>
    <?php endforeach; ?>

    <?php if (isset($paginator)) : ?>
        <?= $this->render('pagination.phtml', ['paginator' => $paginator]); ?>
    <?php endif; ?>

<?php else :?>
    <p><?=$this->translate('No results')?></p>
<?php endif; ?>
